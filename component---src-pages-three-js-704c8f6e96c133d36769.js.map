{"version":3,"file":"component---src-pages-three-js-704c8f6e96c133d36769.js","mappings":"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","sources":["webpack://gatsby-starter-default/./node_modules/core-js/modules/es.math.hypot.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/construct.js","webpack://gatsby-starter-default/./node_modules/three/examples/jsm/loaders/GLTFLoader.js","webpack://gatsby-starter-default/./node_modules/three/examples/jsm/controls/OrbitControls.js","webpack://gatsby-starter-default/./node_modules/@tweenjs/tween.js/dist/tween.esm.js","webpack://gatsby-starter-default/./src/pages/three.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/get.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"sourcesContent":["var $ = require('../internals/export');\n\n// eslint-disable-next-line es/no-math-hypot -- required for testing\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.es/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  hypot: function hypot(value1, value2) {\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import _slicedToArray from \"/home/dsplvd/Documents/curva-luz/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _assertThisInitialized from \"/home/dsplvd/Documents/curva-luz/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _get from \"/home/dsplvd/Documents/curva-luz/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _classCallCheck from \"/home/dsplvd/Documents/curva-luz/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/dsplvd/Documents/curva-luz/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/dsplvd/Documents/curva-luz/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/dsplvd/Documents/curva-luz/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/dsplvd/Documents/curva-luz/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { AnimationClip, Bone, Box3, BufferAttribute, BufferGeometry, ClampToEdgeWrapping, Color, DirectionalLight, DoubleSide, FileLoader, FrontSide, Group, ImageBitmapLoader, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, Line, LineBasicMaterial, LineLoop, LineSegments, LinearFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, Loader, LoaderUtils, Material, MathUtils, Matrix4, Mesh, MeshBasicMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MirroredRepeatWrapping, NearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NumberKeyframeTrack, Object3D, OrthographicCamera, PerspectiveCamera, PointLight, Points, PointsMaterial, PropertyBinding, Quaternion, QuaternionKeyframeTrack, RepeatWrapping, Skeleton, SkinnedMesh, Sphere, SpotLight, TangentSpaceNormalMap, Texture, TextureLoader, TriangleFanDrawMode, TriangleStripDrawMode, Vector2, Vector3, VectorKeyframeTrack, sRGBEncoding } from 'three';\n\nvar GLTFLoader = /*#__PURE__*/function (_Loader) {\n  _inherits(GLTFLoader, _Loader);\n\n  var _super = _createSuper(GLTFLoader);\n\n  function GLTFLoader(manager) {\n    var _this;\n\n    _classCallCheck(this, GLTFLoader);\n\n    _this = _super.call(this, manager);\n    _this.dracoLoader = null;\n    _this.ktx2Loader = null;\n    _this.meshoptDecoder = null;\n    _this.pluginCallbacks = [];\n\n    _this.register(function (parser) {\n      return new GLTFMaterialsClearcoatExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFTextureBasisUExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFTextureWebPExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFMaterialsSheenExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFMaterialsTransmissionExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFMaterialsVolumeExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFMaterialsIorExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFMaterialsSpecularExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFLightsExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFMeshoptCompression(parser);\n    });\n\n    return _this;\n  }\n\n  _createClass(GLTFLoader, [{\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var resourcePath;\n\n      if (this.resourcePath !== '') {\n        resourcePath = this.resourcePath;\n      } else if (this.path !== '') {\n        resourcePath = this.path;\n      } else {\n        resourcePath = LoaderUtils.extractUrlBase(url);\n      } // Tells the LoadingManager to track an extra item, which resolves after\n      // the model is fully loaded. This means the count of items loaded will\n      // be incorrect, but ensures manager.onLoad() does not fire early.\n\n\n      this.manager.itemStart(url);\n\n      var _onError = function _onError(e) {\n        if (onError) {\n          onError(e);\n        } else {\n          console.error(e);\n        }\n\n        scope.manager.itemError(url);\n        scope.manager.itemEnd(url);\n      };\n\n      var loader = new FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.setResponseType('arraybuffer');\n      loader.setRequestHeader(this.requestHeader);\n      loader.setWithCredentials(this.withCredentials);\n      loader.load(url, function (data) {\n        try {\n          scope.parse(data, resourcePath, function (gltf) {\n            onLoad(gltf);\n            scope.manager.itemEnd(url);\n          }, _onError);\n        } catch (e) {\n          _onError(e);\n        }\n      }, onProgress, _onError);\n    }\n  }, {\n    key: \"setDRACOLoader\",\n    value: function setDRACOLoader(dracoLoader) {\n      this.dracoLoader = dracoLoader;\n      return this;\n    }\n  }, {\n    key: \"setDDSLoader\",\n    value: function setDDSLoader() {\n      throw new Error('THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".');\n    }\n  }, {\n    key: \"setKTX2Loader\",\n    value: function setKTX2Loader(ktx2Loader) {\n      this.ktx2Loader = ktx2Loader;\n      return this;\n    }\n  }, {\n    key: \"setMeshoptDecoder\",\n    value: function setMeshoptDecoder(meshoptDecoder) {\n      this.meshoptDecoder = meshoptDecoder;\n      return this;\n    }\n  }, {\n    key: \"register\",\n    value: function register(callback) {\n      if (this.pluginCallbacks.indexOf(callback) === -1) {\n        this.pluginCallbacks.push(callback);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"unregister\",\n    value: function unregister(callback) {\n      if (this.pluginCallbacks.indexOf(callback) !== -1) {\n        this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(callback), 1);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(data, path, onLoad, onError) {\n      var content;\n      var extensions = {};\n      var plugins = {};\n\n      if (typeof data === 'string') {\n        content = data;\n      } else {\n        var magic = LoaderUtils.decodeText(new Uint8Array(data, 0, 4));\n\n        if (magic === BINARY_EXTENSION_HEADER_MAGIC) {\n          try {\n            extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data);\n          } catch (error) {\n            if (onError) onError(error);\n            return;\n          }\n\n          content = extensions[EXTENSIONS.KHR_BINARY_GLTF].content;\n        } else {\n          content = LoaderUtils.decodeText(new Uint8Array(data));\n        }\n      }\n\n      var json = JSON.parse(content);\n\n      if (json.asset === undefined || json.asset.version[0] < 2) {\n        if (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.'));\n        return;\n      }\n\n      var parser = new GLTFParser(json, {\n        path: path || this.resourcePath || '',\n        crossOrigin: this.crossOrigin,\n        requestHeader: this.requestHeader,\n        manager: this.manager,\n        ktx2Loader: this.ktx2Loader,\n        meshoptDecoder: this.meshoptDecoder\n      });\n      parser.fileLoader.setRequestHeader(this.requestHeader);\n\n      for (var i = 0; i < this.pluginCallbacks.length; i++) {\n        var plugin = this.pluginCallbacks[i](parser);\n        plugins[plugin.name] = plugin; // Workaround to avoid determining as unknown extension\n        // in addUnknownExtensionsToUserData().\n        // Remove this workaround if we move all the existing\n        // extension handlers to plugin system\n\n        extensions[plugin.name] = true;\n      }\n\n      if (json.extensionsUsed) {\n        for (var _i = 0; _i < json.extensionsUsed.length; ++_i) {\n          var extensionName = json.extensionsUsed[_i];\n          var extensionsRequired = json.extensionsRequired || [];\n\n          switch (extensionName) {\n            case EXTENSIONS.KHR_MATERIALS_UNLIT:\n              extensions[extensionName] = new GLTFMaterialsUnlitExtension();\n              break;\n\n            case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n              extensions[extensionName] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n              break;\n\n            case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n              extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader);\n              break;\n\n            case EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n              extensions[extensionName] = new GLTFTextureTransformExtension();\n              break;\n\n            case EXTENSIONS.KHR_MESH_QUANTIZATION:\n              extensions[extensionName] = new GLTFMeshQuantizationExtension();\n              break;\n\n            default:\n              if (extensionsRequired.indexOf(extensionName) >= 0 && plugins[extensionName] === undefined) {\n                console.warn('THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".');\n              }\n\n          }\n        }\n      }\n\n      parser.setExtensions(extensions);\n      parser.setPlugins(plugins);\n      parser.parse(onLoad, onError);\n    }\n  }, {\n    key: \"parseAsync\",\n    value: function parseAsync(data, path) {\n      var scope = this;\n      return new Promise(function (resolve, reject) {\n        scope.parse(data, path, resolve, reject);\n      });\n    }\n  }]);\n\n  return GLTFLoader;\n}(Loader);\n/* GLTFREGISTRY */\n\n\nfunction GLTFRegistry() {\n  var objects = {};\n  return {\n    get: function get(key) {\n      return objects[key];\n    },\n    add: function add(key, object) {\n      objects[key] = object;\n    },\n    remove: function remove(key) {\n      delete objects[key];\n    },\n    removeAll: function removeAll() {\n      objects = {};\n    }\n  };\n}\n/*********************************/\n\n/********** EXTENSIONS ***********/\n\n/*********************************/\n\n\nvar EXTENSIONS = {\n  KHR_BINARY_GLTF: 'KHR_binary_glTF',\n  KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n  KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n  KHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n  KHR_MATERIALS_IOR: 'KHR_materials_ior',\n  KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n  KHR_MATERIALS_SHEEN: 'KHR_materials_sheen',\n  KHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n  KHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n  KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n  KHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n  KHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n  KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n  KHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n  EXT_TEXTURE_WEBP: 'EXT_texture_webp',\n  EXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression'\n};\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\n\nvar GLTFLightsExtension = /*#__PURE__*/function () {\n  function GLTFLightsExtension(parser) {\n    _classCallCheck(this, GLTFLightsExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL; // Object3D instance caches\n\n    this.cache = {\n      refs: {},\n      uses: {}\n    };\n  }\n\n  _createClass(GLTFLightsExtension, [{\n    key: \"_markDefs\",\n    value: function _markDefs() {\n      var parser = this.parser;\n      var nodeDefs = this.parser.json.nodes || [];\n\n      for (var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n        var nodeDef = nodeDefs[nodeIndex];\n\n        if (nodeDef.extensions && nodeDef.extensions[this.name] && nodeDef.extensions[this.name].light !== undefined) {\n          parser._addNodeRef(this.cache, nodeDef.extensions[this.name].light);\n        }\n      }\n    }\n  }, {\n    key: \"_loadLight\",\n    value: function _loadLight(lightIndex) {\n      var parser = this.parser;\n      var cacheKey = 'light:' + lightIndex;\n      var dependency = parser.cache.get(cacheKey);\n      if (dependency) return dependency;\n      var json = parser.json;\n      var extensions = json.extensions && json.extensions[this.name] || {};\n      var lightDefs = extensions.lights || [];\n      var lightDef = lightDefs[lightIndex];\n      var lightNode;\n      var color = new Color(0xffffff);\n      if (lightDef.color !== undefined) color.fromArray(lightDef.color);\n      var range = lightDef.range !== undefined ? lightDef.range : 0;\n\n      switch (lightDef.type) {\n        case 'directional':\n          lightNode = new DirectionalLight(color);\n          lightNode.target.position.set(0, 0, -1);\n          lightNode.add(lightNode.target);\n          break;\n\n        case 'point':\n          lightNode = new PointLight(color);\n          lightNode.distance = range;\n          break;\n\n        case 'spot':\n          lightNode = new SpotLight(color);\n          lightNode.distance = range; // Handle spotlight properties.\n\n          lightDef.spot = lightDef.spot || {};\n          lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n          lightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n          lightNode.angle = lightDef.spot.outerConeAngle;\n          lightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n          lightNode.target.position.set(0, 0, -1);\n          lightNode.add(lightNode.target);\n          break;\n\n        default:\n          throw new Error('THREE.GLTFLoader: Unexpected light type: ' + lightDef.type);\n      } // Some lights (e.g. spot) default to a position other than the origin. Reset the position\n      // here, because node-level parsing will only override position if explicitly specified.\n\n\n      lightNode.position.set(0, 0, 0);\n      lightNode.decay = 2;\n      if (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity;\n      lightNode.name = parser.createUniqueName(lightDef.name || 'light_' + lightIndex);\n      dependency = Promise.resolve(lightNode);\n      parser.cache.add(cacheKey, dependency);\n      return dependency;\n    }\n  }, {\n    key: \"createNodeAttachment\",\n    value: function createNodeAttachment(nodeIndex) {\n      var self = this;\n      var parser = this.parser;\n      var json = parser.json;\n      var nodeDef = json.nodes[nodeIndex];\n      var lightDef = nodeDef.extensions && nodeDef.extensions[this.name] || {};\n      var lightIndex = lightDef.light;\n      if (lightIndex === undefined) return null;\n      return this._loadLight(lightIndex).then(function (light) {\n        return parser._getNodeRef(self.cache, lightIndex, light);\n      });\n    }\n  }]);\n\n  return GLTFLightsExtension;\n}();\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\n\n\nvar GLTFMaterialsUnlitExtension = /*#__PURE__*/function () {\n  function GLTFMaterialsUnlitExtension() {\n    _classCallCheck(this, GLTFMaterialsUnlitExtension);\n\n    this.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n  }\n\n  _createClass(GLTFMaterialsUnlitExtension, [{\n    key: \"getMaterialType\",\n    value: function getMaterialType() {\n      return MeshBasicMaterial;\n    }\n  }, {\n    key: \"extendParams\",\n    value: function extendParams(materialParams, materialDef, parser) {\n      var pending = [];\n      materialParams.color = new Color(1.0, 1.0, 1.0);\n      materialParams.opacity = 1.0;\n      var metallicRoughness = materialDef.pbrMetallicRoughness;\n\n      if (metallicRoughness) {\n        if (Array.isArray(metallicRoughness.baseColorFactor)) {\n          var array = metallicRoughness.baseColorFactor;\n          materialParams.color.fromArray(array);\n          materialParams.opacity = array[3];\n        }\n\n        if (metallicRoughness.baseColorTexture !== undefined) {\n          pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n        }\n      }\n\n      return Promise.all(pending);\n    }\n  }]);\n\n  return GLTFMaterialsUnlitExtension;\n}();\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\n\n\nvar GLTFMaterialsClearcoatExtension = /*#__PURE__*/function () {\n  function GLTFMaterialsClearcoatExtension(parser) {\n    _classCallCheck(this, GLTFMaterialsClearcoatExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n  }\n\n  _createClass(GLTFMaterialsClearcoatExtension, [{\n    key: \"getMaterialType\",\n    value: function getMaterialType(materialIndex) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n      return MeshPhysicalMaterial;\n    }\n  }, {\n    key: \"extendMaterialParams\",\n    value: function extendMaterialParams(materialIndex, materialParams) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n        return Promise.resolve();\n      }\n\n      var pending = [];\n      var extension = materialDef.extensions[this.name];\n\n      if (extension.clearcoatFactor !== undefined) {\n        materialParams.clearcoat = extension.clearcoatFactor;\n      }\n\n      if (extension.clearcoatTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'clearcoatMap', extension.clearcoatTexture));\n      }\n\n      if (extension.clearcoatRoughnessFactor !== undefined) {\n        materialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n      }\n\n      if (extension.clearcoatRoughnessTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture));\n      }\n\n      if (extension.clearcoatNormalTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture));\n\n        if (extension.clearcoatNormalTexture.scale !== undefined) {\n          var scale = extension.clearcoatNormalTexture.scale;\n          materialParams.clearcoatNormalScale = new Vector2(scale, scale);\n        }\n      }\n\n      return Promise.all(pending);\n    }\n  }]);\n\n  return GLTFMaterialsClearcoatExtension;\n}();\n/**\n * Sheen Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_sheen\n */\n\n\nvar GLTFMaterialsSheenExtension = /*#__PURE__*/function () {\n  function GLTFMaterialsSheenExtension(parser) {\n    _classCallCheck(this, GLTFMaterialsSheenExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_SHEEN;\n  }\n\n  _createClass(GLTFMaterialsSheenExtension, [{\n    key: \"getMaterialType\",\n    value: function getMaterialType(materialIndex) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n      return MeshPhysicalMaterial;\n    }\n  }, {\n    key: \"extendMaterialParams\",\n    value: function extendMaterialParams(materialIndex, materialParams) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n        return Promise.resolve();\n      }\n\n      var pending = [];\n      materialParams.sheenColor = new Color(0, 0, 0);\n      materialParams.sheenRoughness = 0;\n      materialParams.sheen = 1;\n      var extension = materialDef.extensions[this.name];\n\n      if (extension.sheenColorFactor !== undefined) {\n        materialParams.sheenColor.fromArray(extension.sheenColorFactor);\n      }\n\n      if (extension.sheenRoughnessFactor !== undefined) {\n        materialParams.sheenRoughness = extension.sheenRoughnessFactor;\n      }\n\n      if (extension.sheenColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'sheenColorMap', extension.sheenColorTexture));\n      }\n\n      if (extension.sheenRoughnessTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'sheenRoughnessMap', extension.sheenRoughnessTexture));\n      }\n\n      return Promise.all(pending);\n    }\n  }]);\n\n  return GLTFMaterialsSheenExtension;\n}();\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\n\n\nvar GLTFMaterialsTransmissionExtension = /*#__PURE__*/function () {\n  function GLTFMaterialsTransmissionExtension(parser) {\n    _classCallCheck(this, GLTFMaterialsTransmissionExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n  }\n\n  _createClass(GLTFMaterialsTransmissionExtension, [{\n    key: \"getMaterialType\",\n    value: function getMaterialType(materialIndex) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n      return MeshPhysicalMaterial;\n    }\n  }, {\n    key: \"extendMaterialParams\",\n    value: function extendMaterialParams(materialIndex, materialParams) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n        return Promise.resolve();\n      }\n\n      var pending = [];\n      var extension = materialDef.extensions[this.name];\n\n      if (extension.transmissionFactor !== undefined) {\n        materialParams.transmission = extension.transmissionFactor;\n      }\n\n      if (extension.transmissionTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'transmissionMap', extension.transmissionTexture));\n      }\n\n      return Promise.all(pending);\n    }\n  }]);\n\n  return GLTFMaterialsTransmissionExtension;\n}();\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\n\n\nvar GLTFMaterialsVolumeExtension = /*#__PURE__*/function () {\n  function GLTFMaterialsVolumeExtension(parser) {\n    _classCallCheck(this, GLTFMaterialsVolumeExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_VOLUME;\n  }\n\n  _createClass(GLTFMaterialsVolumeExtension, [{\n    key: \"getMaterialType\",\n    value: function getMaterialType(materialIndex) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n      return MeshPhysicalMaterial;\n    }\n  }, {\n    key: \"extendMaterialParams\",\n    value: function extendMaterialParams(materialIndex, materialParams) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n        return Promise.resolve();\n      }\n\n      var pending = [];\n      var extension = materialDef.extensions[this.name];\n      materialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0;\n\n      if (extension.thicknessTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'thicknessMap', extension.thicknessTexture));\n      }\n\n      materialParams.attenuationDistance = extension.attenuationDistance || 0;\n      var colorArray = extension.attenuationColor || [1, 1, 1];\n      materialParams.attenuationColor = new Color(colorArray[0], colorArray[1], colorArray[2]);\n      return Promise.all(pending);\n    }\n  }]);\n\n  return GLTFMaterialsVolumeExtension;\n}();\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\n\n\nvar GLTFMaterialsIorExtension = /*#__PURE__*/function () {\n  function GLTFMaterialsIorExtension(parser) {\n    _classCallCheck(this, GLTFMaterialsIorExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_IOR;\n  }\n\n  _createClass(GLTFMaterialsIorExtension, [{\n    key: \"getMaterialType\",\n    value: function getMaterialType(materialIndex) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n      return MeshPhysicalMaterial;\n    }\n  }, {\n    key: \"extendMaterialParams\",\n    value: function extendMaterialParams(materialIndex, materialParams) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n        return Promise.resolve();\n      }\n\n      var extension = materialDef.extensions[this.name];\n      materialParams.ior = extension.ior !== undefined ? extension.ior : 1.5;\n      return Promise.resolve();\n    }\n  }]);\n\n  return GLTFMaterialsIorExtension;\n}();\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\n\n\nvar GLTFMaterialsSpecularExtension = /*#__PURE__*/function () {\n  function GLTFMaterialsSpecularExtension(parser) {\n    _classCallCheck(this, GLTFMaterialsSpecularExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;\n  }\n\n  _createClass(GLTFMaterialsSpecularExtension, [{\n    key: \"getMaterialType\",\n    value: function getMaterialType(materialIndex) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n      return MeshPhysicalMaterial;\n    }\n  }, {\n    key: \"extendMaterialParams\",\n    value: function extendMaterialParams(materialIndex, materialParams) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n        return Promise.resolve();\n      }\n\n      var pending = [];\n      var extension = materialDef.extensions[this.name];\n      materialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0;\n\n      if (extension.specularTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'specularIntensityMap', extension.specularTexture));\n      }\n\n      var colorArray = extension.specularColorFactor || [1, 1, 1];\n      materialParams.specularColor = new Color(colorArray[0], colorArray[1], colorArray[2]);\n\n      if (extension.specularColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'specularColorMap', extension.specularColorTexture).then(function (texture) {\n          texture.encoding = sRGBEncoding;\n        }));\n      }\n\n      return Promise.all(pending);\n    }\n  }]);\n\n  return GLTFMaterialsSpecularExtension;\n}();\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\n\n\nvar GLTFTextureBasisUExtension = /*#__PURE__*/function () {\n  function GLTFTextureBasisUExtension(parser) {\n    _classCallCheck(this, GLTFTextureBasisUExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n  }\n\n  _createClass(GLTFTextureBasisUExtension, [{\n    key: \"loadTexture\",\n    value: function loadTexture(textureIndex) {\n      var parser = this.parser;\n      var json = parser.json;\n      var textureDef = json.textures[textureIndex];\n\n      if (!textureDef.extensions || !textureDef.extensions[this.name]) {\n        return null;\n      }\n\n      var extension = textureDef.extensions[this.name];\n      var source = json.images[extension.source];\n      var loader = parser.options.ktx2Loader;\n\n      if (!loader) {\n        if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n          throw new Error('THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures');\n        } else {\n          // Assumes that the extension is optional and that a fallback texture is present\n          return null;\n        }\n      }\n\n      return parser.loadTextureImage(textureIndex, source, loader);\n    }\n  }]);\n\n  return GLTFTextureBasisUExtension;\n}();\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\n\n\nvar GLTFTextureWebPExtension = /*#__PURE__*/function () {\n  function GLTFTextureWebPExtension(parser) {\n    _classCallCheck(this, GLTFTextureWebPExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n    this.isSupported = null;\n  }\n\n  _createClass(GLTFTextureWebPExtension, [{\n    key: \"loadTexture\",\n    value: function loadTexture(textureIndex) {\n      var name = this.name;\n      var parser = this.parser;\n      var json = parser.json;\n      var textureDef = json.textures[textureIndex];\n\n      if (!textureDef.extensions || !textureDef.extensions[name]) {\n        return null;\n      }\n\n      var extension = textureDef.extensions[name];\n      var source = json.images[extension.source];\n      var loader = parser.textureLoader;\n\n      if (source.uri) {\n        var handler = parser.options.manager.getHandler(source.uri);\n        if (handler !== null) loader = handler;\n      }\n\n      return this.detectSupport().then(function (isSupported) {\n        if (isSupported) return parser.loadTextureImage(textureIndex, source, loader);\n\n        if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\n          throw new Error('THREE.GLTFLoader: WebP required by asset but unsupported.');\n        } // Fall back to PNG or JPEG.\n\n\n        return parser.loadTexture(textureIndex);\n      });\n    }\n  }, {\n    key: \"detectSupport\",\n    value: function detectSupport() {\n      if (!this.isSupported) {\n        this.isSupported = new Promise(function (resolve) {\n          var image = new Image(); // Lossy test image. Support for lossy images doesn't guarantee support for all\n          // WebP images, unfortunately.\n\n          image.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n          image.onload = image.onerror = function () {\n            resolve(image.height === 1);\n          };\n        });\n      }\n\n      return this.isSupported;\n    }\n  }]);\n\n  return GLTFTextureWebPExtension;\n}();\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\n\n\nvar GLTFMeshoptCompression = /*#__PURE__*/function () {\n  function GLTFMeshoptCompression(parser) {\n    _classCallCheck(this, GLTFMeshoptCompression);\n\n    this.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n    this.parser = parser;\n  }\n\n  _createClass(GLTFMeshoptCompression, [{\n    key: \"loadBufferView\",\n    value: function loadBufferView(index) {\n      var json = this.parser.json;\n      var bufferView = json.bufferViews[index];\n\n      if (bufferView.extensions && bufferView.extensions[this.name]) {\n        var extensionDef = bufferView.extensions[this.name];\n        var buffer = this.parser.getDependency('buffer', extensionDef.buffer);\n        var decoder = this.parser.options.meshoptDecoder;\n\n        if (!decoder || !decoder.supported) {\n          if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n            throw new Error('THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files');\n          } else {\n            // Assumes that the extension is optional and that fallback buffer data is present\n            return null;\n          }\n        }\n\n        return Promise.all([buffer, decoder.ready]).then(function (res) {\n          var byteOffset = extensionDef.byteOffset || 0;\n          var byteLength = extensionDef.byteLength || 0;\n          var count = extensionDef.count;\n          var stride = extensionDef.byteStride;\n          var result = new ArrayBuffer(count * stride);\n          var source = new Uint8Array(res[0], byteOffset, byteLength);\n          decoder.decodeGltfBuffer(new Uint8Array(result), count, stride, source, extensionDef.mode, extensionDef.filter);\n          return result;\n        });\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return GLTFMeshoptCompression;\n}();\n/* BINARY EXTENSION */\n\n\nvar BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nvar BINARY_EXTENSION_HEADER_LENGTH = 12;\nvar BINARY_EXTENSION_CHUNK_TYPES = {\n  JSON: 0x4E4F534A,\n  BIN: 0x004E4942\n};\n\nvar GLTFBinaryExtension = /*#__PURE__*/_createClass(function GLTFBinaryExtension(data) {\n  _classCallCheck(this, GLTFBinaryExtension);\n\n  this.name = EXTENSIONS.KHR_BINARY_GLTF;\n  this.content = null;\n  this.body = null;\n  var headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH);\n  this.header = {\n    magic: LoaderUtils.decodeText(new Uint8Array(data.slice(0, 4))),\n    version: headerView.getUint32(4, true),\n    length: headerView.getUint32(8, true)\n  };\n\n  if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {\n    throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.');\n  } else if (this.header.version < 2.0) {\n    throw new Error('THREE.GLTFLoader: Legacy binary file detected.');\n  }\n\n  var chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n  var chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH);\n  var chunkIndex = 0;\n\n  while (chunkIndex < chunkContentsLength) {\n    var chunkLength = chunkView.getUint32(chunkIndex, true);\n    chunkIndex += 4;\n    var chunkType = chunkView.getUint32(chunkIndex, true);\n    chunkIndex += 4;\n\n    if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {\n      var contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength);\n      this.content = LoaderUtils.decodeText(contentArray);\n    } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {\n      var byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n      this.body = data.slice(byteOffset, byteOffset + chunkLength);\n    } // Clients must ignore chunks with unknown types.\n\n\n    chunkIndex += chunkLength;\n  }\n\n  if (this.content === null) {\n    throw new Error('THREE.GLTFLoader: JSON content not found.');\n  }\n});\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\n\n\nvar GLTFDracoMeshCompressionExtension = /*#__PURE__*/function () {\n  function GLTFDracoMeshCompressionExtension(json, dracoLoader) {\n    _classCallCheck(this, GLTFDracoMeshCompressionExtension);\n\n    if (!dracoLoader) {\n      throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.');\n    }\n\n    this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n    this.json = json;\n    this.dracoLoader = dracoLoader;\n    this.dracoLoader.preload();\n  }\n\n  _createClass(GLTFDracoMeshCompressionExtension, [{\n    key: \"decodePrimitive\",\n    value: function decodePrimitive(primitive, parser) {\n      var json = this.json;\n      var dracoLoader = this.dracoLoader;\n      var bufferViewIndex = primitive.extensions[this.name].bufferView;\n      var gltfAttributeMap = primitive.extensions[this.name].attributes;\n      var threeAttributeMap = {};\n      var attributeNormalizedMap = {};\n      var attributeTypeMap = {};\n\n      for (var attributeName in gltfAttributeMap) {\n        var threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n        threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName];\n      }\n\n      for (var _attributeName in primitive.attributes) {\n        var _threeAttributeName = ATTRIBUTES[_attributeName] || _attributeName.toLowerCase();\n\n        if (gltfAttributeMap[_attributeName] !== undefined) {\n          var accessorDef = json.accessors[primitive.attributes[_attributeName]];\n          var componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\n          attributeTypeMap[_threeAttributeName] = componentType;\n          attributeNormalizedMap[_threeAttributeName] = accessorDef.normalized === true;\n        }\n      }\n\n      return parser.getDependency('bufferView', bufferViewIndex).then(function (bufferView) {\n        return new Promise(function (resolve) {\n          dracoLoader.decodeDracoFile(bufferView, function (geometry) {\n            for (var _attributeName2 in geometry.attributes) {\n              var attribute = geometry.attributes[_attributeName2];\n              var normalized = attributeNormalizedMap[_attributeName2];\n              if (normalized !== undefined) attribute.normalized = normalized;\n            }\n\n            resolve(geometry);\n          }, threeAttributeMap, attributeTypeMap);\n        });\n      });\n    }\n  }]);\n\n  return GLTFDracoMeshCompressionExtension;\n}();\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\n\n\nvar GLTFTextureTransformExtension = /*#__PURE__*/function () {\n  function GLTFTextureTransformExtension() {\n    _classCallCheck(this, GLTFTextureTransformExtension);\n\n    this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n  }\n\n  _createClass(GLTFTextureTransformExtension, [{\n    key: \"extendTexture\",\n    value: function extendTexture(texture, transform) {\n      if (transform.texCoord !== undefined) {\n        console.warn('THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.');\n      }\n\n      if (transform.offset === undefined && transform.rotation === undefined && transform.scale === undefined) {\n        // See https://github.com/mrdoob/three.js/issues/21819.\n        return texture;\n      }\n\n      texture = texture.clone();\n\n      if (transform.offset !== undefined) {\n        texture.offset.fromArray(transform.offset);\n      }\n\n      if (transform.rotation !== undefined) {\n        texture.rotation = transform.rotation;\n      }\n\n      if (transform.scale !== undefined) {\n        texture.repeat.fromArray(transform.scale);\n      }\n\n      texture.needsUpdate = true;\n      return texture;\n    }\n  }]);\n\n  return GLTFTextureTransformExtension;\n}();\n/**\n * Specular-Glossiness Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Archived/KHR_materials_pbrSpecularGlossiness\n */\n\n/**\n * A sub class of StandardMaterial with some of the functionality\n * changed via the `onBeforeCompile` callback\n * @pailhead\n */\n\n\nvar GLTFMeshStandardSGMaterial = /*#__PURE__*/function (_MeshStandardMaterial) {\n  _inherits(GLTFMeshStandardSGMaterial, _MeshStandardMaterial);\n\n  var _super2 = _createSuper(GLTFMeshStandardSGMaterial);\n\n  function GLTFMeshStandardSGMaterial(params) {\n    var _this2;\n\n    _classCallCheck(this, GLTFMeshStandardSGMaterial);\n\n    _this2 = _super2.call(this);\n    _this2.isGLTFSpecularGlossinessMaterial = true; //various chunks that need replacing\n\n    var specularMapParsFragmentChunk = ['#ifdef USE_SPECULARMAP', '\tuniform sampler2D specularMap;', '#endif'].join('\\n');\n    var glossinessMapParsFragmentChunk = ['#ifdef USE_GLOSSINESSMAP', '\tuniform sampler2D glossinessMap;', '#endif'].join('\\n');\n    var specularMapFragmentChunk = ['vec3 specularFactor = specular;', '#ifdef USE_SPECULARMAP', '\tvec4 texelSpecular = texture2D( specularMap, vUv );', '\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tspecularFactor *= texelSpecular.rgb;', '#endif'].join('\\n');\n    var glossinessMapFragmentChunk = ['float glossinessFactor = glossiness;', '#ifdef USE_GLOSSINESSMAP', '\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );', '\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tglossinessFactor *= texelGlossiness.a;', '#endif'].join('\\n');\n    var lightPhysicalFragmentChunk = ['PhysicalMaterial material;', 'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );', 'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );', 'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );', 'material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.', 'material.roughness += geometryRoughness;', 'material.roughness = min( material.roughness, 1.0 );', 'material.specularColor = specularFactor;'].join('\\n');\n    var uniforms = {\n      specular: {\n        value: new Color().setHex(0xffffff)\n      },\n      glossiness: {\n        value: 1\n      },\n      specularMap: {\n        value: null\n      },\n      glossinessMap: {\n        value: null\n      }\n    };\n    _this2._extraUniforms = uniforms;\n\n    _this2.onBeforeCompile = function (shader) {\n      for (var uniformName in uniforms) {\n        shader.uniforms[uniformName] = uniforms[uniformName];\n      }\n\n      shader.fragmentShader = shader.fragmentShader.replace('uniform float roughness;', 'uniform vec3 specular;').replace('uniform float metalness;', 'uniform float glossiness;').replace('#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk).replace('#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk).replace('#include <roughnessmap_fragment>', specularMapFragmentChunk).replace('#include <metalnessmap_fragment>', glossinessMapFragmentChunk).replace('#include <lights_physical_fragment>', lightPhysicalFragmentChunk);\n    };\n\n    Object.defineProperties(_assertThisInitialized(_this2), {\n      specular: {\n        get: function get() {\n          return uniforms.specular.value;\n        },\n        set: function set(v) {\n          uniforms.specular.value = v;\n        }\n      },\n      specularMap: {\n        get: function get() {\n          return uniforms.specularMap.value;\n        },\n        set: function set(v) {\n          uniforms.specularMap.value = v;\n\n          if (v) {\n            this.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n          } else {\n            delete this.defines.USE_SPECULARMAP;\n          }\n        }\n      },\n      glossiness: {\n        get: function get() {\n          return uniforms.glossiness.value;\n        },\n        set: function set(v) {\n          uniforms.glossiness.value = v;\n        }\n      },\n      glossinessMap: {\n        get: function get() {\n          return uniforms.glossinessMap.value;\n        },\n        set: function set(v) {\n          uniforms.glossinessMap.value = v;\n\n          if (v) {\n            this.defines.USE_GLOSSINESSMAP = '';\n            this.defines.USE_UV = '';\n          } else {\n            delete this.defines.USE_GLOSSINESSMAP;\n            delete this.defines.USE_UV;\n          }\n        }\n      }\n    });\n    delete _this2.metalness;\n    delete _this2.roughness;\n    delete _this2.metalnessMap;\n    delete _this2.roughnessMap;\n\n    _this2.setValues(params);\n\n    return _this2;\n  }\n\n  _createClass(GLTFMeshStandardSGMaterial, [{\n    key: \"copy\",\n    value: function copy(source) {\n      _get(_getPrototypeOf(GLTFMeshStandardSGMaterial.prototype), \"copy\", this).call(this, source);\n\n      this.specularMap = source.specularMap;\n      this.specular.copy(source.specular);\n      this.glossinessMap = source.glossinessMap;\n      this.glossiness = source.glossiness;\n      delete this.metalness;\n      delete this.roughness;\n      delete this.metalnessMap;\n      delete this.roughnessMap;\n      return this;\n    }\n  }]);\n\n  return GLTFMeshStandardSGMaterial;\n}(MeshStandardMaterial);\n\nvar GLTFMaterialsPbrSpecularGlossinessExtension = /*#__PURE__*/function () {\n  function GLTFMaterialsPbrSpecularGlossinessExtension() {\n    _classCallCheck(this, GLTFMaterialsPbrSpecularGlossinessExtension);\n\n    this.name = EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS;\n    this.specularGlossinessParams = ['color', 'map', 'lightMap', 'lightMapIntensity', 'aoMap', 'aoMapIntensity', 'emissive', 'emissiveIntensity', 'emissiveMap', 'bumpMap', 'bumpScale', 'normalMap', 'normalMapType', 'displacementMap', 'displacementScale', 'displacementBias', 'specularMap', 'specular', 'glossinessMap', 'glossiness', 'alphaMap', 'envMap', 'envMapIntensity', 'refractionRatio'];\n  }\n\n  _createClass(GLTFMaterialsPbrSpecularGlossinessExtension, [{\n    key: \"getMaterialType\",\n    value: function getMaterialType() {\n      return GLTFMeshStandardSGMaterial;\n    }\n  }, {\n    key: \"extendParams\",\n    value: function extendParams(materialParams, materialDef, parser) {\n      var pbrSpecularGlossiness = materialDef.extensions[this.name];\n      materialParams.color = new Color(1.0, 1.0, 1.0);\n      materialParams.opacity = 1.0;\n      var pending = [];\n\n      if (Array.isArray(pbrSpecularGlossiness.diffuseFactor)) {\n        var array = pbrSpecularGlossiness.diffuseFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n\n      if (pbrSpecularGlossiness.diffuseTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', pbrSpecularGlossiness.diffuseTexture));\n      }\n\n      materialParams.emissive = new Color(0.0, 0.0, 0.0);\n      materialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n      materialParams.specular = new Color(1.0, 1.0, 1.0);\n\n      if (Array.isArray(pbrSpecularGlossiness.specularFactor)) {\n        materialParams.specular.fromArray(pbrSpecularGlossiness.specularFactor);\n      }\n\n      if (pbrSpecularGlossiness.specularGlossinessTexture !== undefined) {\n        var specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n        pending.push(parser.assignTexture(materialParams, 'glossinessMap', specGlossMapDef));\n        pending.push(parser.assignTexture(materialParams, 'specularMap', specGlossMapDef));\n      }\n\n      return Promise.all(pending);\n    }\n  }, {\n    key: \"createMaterial\",\n    value: function createMaterial(materialParams) {\n      var material = new GLTFMeshStandardSGMaterial(materialParams);\n      material.fog = true;\n      material.color = materialParams.color;\n      material.map = materialParams.map === undefined ? null : materialParams.map;\n      material.lightMap = null;\n      material.lightMapIntensity = 1.0;\n      material.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n      material.aoMapIntensity = 1.0;\n      material.emissive = materialParams.emissive;\n      material.emissiveIntensity = 1.0;\n      material.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n      material.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n      material.bumpScale = 1;\n      material.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n      material.normalMapType = TangentSpaceNormalMap;\n      if (materialParams.normalScale) material.normalScale = materialParams.normalScale;\n      material.displacementMap = null;\n      material.displacementScale = 1;\n      material.displacementBias = 0;\n      material.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n      material.specular = materialParams.specular;\n      material.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n      material.glossiness = materialParams.glossiness;\n      material.alphaMap = null;\n      material.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n      material.envMapIntensity = 1.0;\n      material.refractionRatio = 0.98;\n      return material;\n    }\n  }]);\n\n  return GLTFMaterialsPbrSpecularGlossinessExtension;\n}();\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\n\n\nvar GLTFMeshQuantizationExtension = /*#__PURE__*/_createClass(function GLTFMeshQuantizationExtension() {\n  _classCallCheck(this, GLTFMeshQuantizationExtension);\n\n  this.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n});\n/*********************************/\n\n/********** INTERPOLATION ********/\n\n/*********************************/\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n\n\nvar GLTFCubicSplineInterpolant = /*#__PURE__*/function (_Interpolant) {\n  _inherits(GLTFCubicSplineInterpolant, _Interpolant);\n\n  var _super3 = _createSuper(GLTFCubicSplineInterpolant);\n\n  function GLTFCubicSplineInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    _classCallCheck(this, GLTFCubicSplineInterpolant);\n\n    return _super3.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n  }\n\n  _createClass(GLTFCubicSplineInterpolant, [{\n    key: \"copySampleValue_\",\n    value: function copySampleValue_(index) {\n      // Copies a sample value to the result buffer. See description of glTF\n      // CUBICSPLINE values layout in interpolate_() function below.\n      var result = this.resultBuffer,\n          values = this.sampleValues,\n          valueSize = this.valueSize,\n          offset = index * valueSize * 3 + valueSize;\n\n      for (var i = 0; i !== valueSize; i++) {\n        result[i] = values[offset + i];\n      }\n\n      return result;\n    }\n  }]);\n\n  return GLTFCubicSplineInterpolant;\n}(Interpolant);\n\nGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\nGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.interpolate_ = function (i1, t0, t, t1) {\n  var result = this.resultBuffer;\n  var values = this.sampleValues;\n  var stride = this.valueSize;\n  var stride2 = stride * 2;\n  var stride3 = stride * 3;\n  var td = t1 - t0;\n  var p = (t - t0) / td;\n  var pp = p * p;\n  var ppp = pp * p;\n  var offset1 = i1 * stride3;\n  var offset0 = offset1 - stride3;\n  var s2 = -2 * ppp + 3 * pp;\n  var s3 = ppp - pp;\n  var s0 = 1 - s2;\n  var s1 = s3 - pp + p; // Layout of keyframe output values for CUBICSPLINE animations:\n  //   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\n  for (var i = 0; i !== stride; i++) {\n    var p0 = values[offset0 + i + stride]; // splineVertex_k\n\n    var m0 = values[offset0 + i + stride2] * td; // outTangent_k * (t_k+1 - t_k)\n\n    var p1 = values[offset1 + i + stride]; // splineVertex_k+1\n\n    var m1 = values[offset1 + i] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n    result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n  }\n\n  return result;\n};\n\nvar _q = new Quaternion();\n\nvar GLTFCubicSplineQuaternionInterpolant = /*#__PURE__*/function (_GLTFCubicSplineInter) {\n  _inherits(GLTFCubicSplineQuaternionInterpolant, _GLTFCubicSplineInter);\n\n  var _super4 = _createSuper(GLTFCubicSplineQuaternionInterpolant);\n\n  function GLTFCubicSplineQuaternionInterpolant() {\n    _classCallCheck(this, GLTFCubicSplineQuaternionInterpolant);\n\n    return _super4.apply(this, arguments);\n  }\n\n  _createClass(GLTFCubicSplineQuaternionInterpolant, [{\n    key: \"interpolate_\",\n    value: function interpolate_(i1, t0, t, t1) {\n      var result = _get(_getPrototypeOf(GLTFCubicSplineQuaternionInterpolant.prototype), \"interpolate_\", this).call(this, i1, t0, t, t1);\n\n      _q.fromArray(result).normalize().toArray(result);\n\n      return result;\n    }\n  }]);\n\n  return GLTFCubicSplineQuaternionInterpolant;\n}(GLTFCubicSplineInterpolant);\n/*********************************/\n\n/********** INTERNALS ************/\n\n/*********************************/\n\n/* CONSTANTS */\n\n\nvar WEBGL_CONSTANTS = {\n  FLOAT: 5126,\n  //FLOAT_MAT2: 35674,\n  FLOAT_MAT3: 35675,\n  FLOAT_MAT4: 35676,\n  FLOAT_VEC2: 35664,\n  FLOAT_VEC3: 35665,\n  FLOAT_VEC4: 35666,\n  LINEAR: 9729,\n  REPEAT: 10497,\n  SAMPLER_2D: 35678,\n  POINTS: 0,\n  LINES: 1,\n  LINE_LOOP: 2,\n  LINE_STRIP: 3,\n  TRIANGLES: 4,\n  TRIANGLE_STRIP: 5,\n  TRIANGLE_FAN: 6,\n  UNSIGNED_BYTE: 5121,\n  UNSIGNED_SHORT: 5123\n};\nvar WEBGL_COMPONENT_TYPES = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array\n};\nvar WEBGL_FILTERS = {\n  9728: NearestFilter,\n  9729: LinearFilter,\n  9984: NearestMipmapNearestFilter,\n  9985: LinearMipmapNearestFilter,\n  9986: NearestMipmapLinearFilter,\n  9987: LinearMipmapLinearFilter\n};\nvar WEBGL_WRAPPINGS = {\n  33071: ClampToEdgeWrapping,\n  33648: MirroredRepeatWrapping,\n  10497: RepeatWrapping\n};\nvar WEBGL_TYPE_SIZES = {\n  'SCALAR': 1,\n  'VEC2': 2,\n  'VEC3': 3,\n  'VEC4': 4,\n  'MAT2': 4,\n  'MAT3': 9,\n  'MAT4': 16\n};\nvar ATTRIBUTES = {\n  POSITION: 'position',\n  NORMAL: 'normal',\n  TANGENT: 'tangent',\n  TEXCOORD_0: 'uv',\n  TEXCOORD_1: 'uv2',\n  COLOR_0: 'color',\n  WEIGHTS_0: 'skinWeight',\n  JOINTS_0: 'skinIndex'\n};\nvar PATH_PROPERTIES = {\n  scale: 'scale',\n  translation: 'position',\n  rotation: 'quaternion',\n  weights: 'morphTargetInfluences'\n};\nvar INTERPOLATION = {\n  CUBICSPLINE: undefined,\n  // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n  // keyframe track will be initialized with a default interpolation type, then modified.\n  LINEAR: InterpolateLinear,\n  STEP: InterpolateDiscrete\n};\nvar ALPHA_MODES = {\n  OPAQUE: 'OPAQUE',\n  MASK: 'MASK',\n  BLEND: 'BLEND'\n};\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\n\nfunction createDefaultMaterial(cache) {\n  if (cache['DefaultMaterial'] === undefined) {\n    cache['DefaultMaterial'] = new MeshStandardMaterial({\n      color: 0xFFFFFF,\n      emissive: 0x000000,\n      metalness: 1,\n      roughness: 1,\n      transparent: false,\n      depthTest: true,\n      side: FrontSide\n    });\n  }\n\n  return cache['DefaultMaterial'];\n}\n\nfunction addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {\n  // Add unknown glTF extensions to an object's userData.\n  for (var name in objectDef.extensions) {\n    if (knownExtensions[name] === undefined) {\n      object.userData.gltfExtensions = object.userData.gltfExtensions || {};\n      object.userData.gltfExtensions[name] = objectDef.extensions[name];\n    }\n  }\n}\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\n\n\nfunction assignExtrasToUserData(object, gltfDef) {\n  if (gltfDef.extras !== undefined) {\n    if (typeof gltfDef.extras === 'object') {\n      Object.assign(object.userData, gltfDef.extras);\n    } else {\n      console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras);\n    }\n  }\n}\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\n\n\nfunction addMorphTargets(geometry, targets, parser) {\n  var hasMorphPosition = false;\n  var hasMorphNormal = false;\n\n  for (var i = 0, il = targets.length; i < il; i++) {\n    var target = targets[i];\n    if (target.POSITION !== undefined) hasMorphPosition = true;\n    if (target.NORMAL !== undefined) hasMorphNormal = true;\n    if (hasMorphPosition && hasMorphNormal) break;\n  }\n\n  if (!hasMorphPosition && !hasMorphNormal) return Promise.resolve(geometry);\n  var pendingPositionAccessors = [];\n  var pendingNormalAccessors = [];\n\n  for (var _i2 = 0, _il = targets.length; _i2 < _il; _i2++) {\n    var _target = targets[_i2];\n\n    if (hasMorphPosition) {\n      var pendingAccessor = _target.POSITION !== undefined ? parser.getDependency('accessor', _target.POSITION) : geometry.attributes.position;\n      pendingPositionAccessors.push(pendingAccessor);\n    }\n\n    if (hasMorphNormal) {\n      var _pendingAccessor = _target.NORMAL !== undefined ? parser.getDependency('accessor', _target.NORMAL) : geometry.attributes.normal;\n\n      pendingNormalAccessors.push(_pendingAccessor);\n    }\n  }\n\n  return Promise.all([Promise.all(pendingPositionAccessors), Promise.all(pendingNormalAccessors)]).then(function (accessors) {\n    var morphPositions = accessors[0];\n    var morphNormals = accessors[1];\n    if (hasMorphPosition) geometry.morphAttributes.position = morphPositions;\n    if (hasMorphNormal) geometry.morphAttributes.normal = morphNormals;\n    geometry.morphTargetsRelative = true;\n    return geometry;\n  });\n}\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\n\n\nfunction updateMorphTargets(mesh, meshDef) {\n  mesh.updateMorphTargets();\n\n  if (meshDef.weights !== undefined) {\n    for (var i = 0, il = meshDef.weights.length; i < il; i++) {\n      mesh.morphTargetInfluences[i] = meshDef.weights[i];\n    }\n  } // .extras has user-defined data, so check that .extras.targetNames is an array.\n\n\n  if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {\n    var targetNames = meshDef.extras.targetNames;\n\n    if (mesh.morphTargetInfluences.length === targetNames.length) {\n      mesh.morphTargetDictionary = {};\n\n      for (var _i3 = 0, _il2 = targetNames.length; _i3 < _il2; _i3++) {\n        mesh.morphTargetDictionary[targetNames[_i3]] = _i3;\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.');\n    }\n  }\n}\n\nfunction createPrimitiveKey(primitiveDef) {\n  var dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];\n  var geometryKey;\n\n  if (dracoExtension) {\n    geometryKey = 'draco:' + dracoExtension.bufferView + ':' + dracoExtension.indices + ':' + createAttributesKey(dracoExtension.attributes);\n  } else {\n    geometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode;\n  }\n\n  return geometryKey;\n}\n\nfunction createAttributesKey(attributes) {\n  var attributesKey = '';\n  var keys = Object.keys(attributes).sort();\n\n  for (var i = 0, il = keys.length; i < il; i++) {\n    attributesKey += keys[i] + ':' + attributes[keys[i]] + ';';\n  }\n\n  return attributesKey;\n}\n\nfunction getNormalizedComponentScale(constructor) {\n  // Reference:\n  // https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n  switch (constructor) {\n    case Int8Array:\n      return 1 / 127;\n\n    case Uint8Array:\n      return 1 / 255;\n\n    case Int16Array:\n      return 1 / 32767;\n\n    case Uint16Array:\n      return 1 / 65535;\n\n    default:\n      throw new Error('THREE.GLTFLoader: Unsupported normalized accessor component type.');\n  }\n}\n/* GLTF PARSER */\n\n\nvar GLTFParser = /*#__PURE__*/function () {\n  function GLTFParser() {\n    var json = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, GLTFParser);\n\n    this.json = json;\n    this.extensions = {};\n    this.plugins = {};\n    this.options = options; // loader object cache\n\n    this.cache = new GLTFRegistry(); // associations between Three.js objects and glTF elements\n\n    this.associations = new Map(); // BufferGeometry caching\n\n    this.primitiveCache = {}; // Object3D instance caches\n\n    this.meshCache = {\n      refs: {},\n      uses: {}\n    };\n    this.cameraCache = {\n      refs: {},\n      uses: {}\n    };\n    this.lightCache = {\n      refs: {},\n      uses: {}\n    };\n    this.textureCache = {}; // Track node names, to ensure no duplicates\n\n    this.nodeNamesUsed = {}; // Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n    // expensive work of uploading a texture to the GPU off the main thread.\n\n    if (typeof createImageBitmap !== 'undefined' && /Firefox|^((?!chrome|android).)*safari/i.test(navigator.userAgent) === false) {\n      this.textureLoader = new ImageBitmapLoader(this.options.manager);\n    } else {\n      this.textureLoader = new TextureLoader(this.options.manager);\n    }\n\n    this.textureLoader.setCrossOrigin(this.options.crossOrigin);\n    this.textureLoader.setRequestHeader(this.options.requestHeader);\n    this.fileLoader = new FileLoader(this.options.manager);\n    this.fileLoader.setResponseType('arraybuffer');\n\n    if (this.options.crossOrigin === 'use-credentials') {\n      this.fileLoader.setWithCredentials(true);\n    }\n  }\n\n  _createClass(GLTFParser, [{\n    key: \"setExtensions\",\n    value: function setExtensions(extensions) {\n      this.extensions = extensions;\n    }\n  }, {\n    key: \"setPlugins\",\n    value: function setPlugins(plugins) {\n      this.plugins = plugins;\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(onLoad, onError) {\n      var parser = this;\n      var json = this.json;\n      var extensions = this.extensions; // Clear the loader cache\n\n      this.cache.removeAll(); // Mark the special nodes/meshes in json for efficient parse\n\n      this._invokeAll(function (ext) {\n        return ext._markDefs && ext._markDefs();\n      });\n\n      Promise.all(this._invokeAll(function (ext) {\n        return ext.beforeRoot && ext.beforeRoot();\n      })).then(function () {\n        return Promise.all([parser.getDependencies('scene'), parser.getDependencies('animation'), parser.getDependencies('camera')]);\n      }).then(function (dependencies) {\n        var result = {\n          scene: dependencies[0][json.scene || 0],\n          scenes: dependencies[0],\n          animations: dependencies[1],\n          cameras: dependencies[2],\n          asset: json.asset,\n          parser: parser,\n          userData: {}\n        };\n        addUnknownExtensionsToUserData(extensions, result, json);\n        assignExtrasToUserData(result, json);\n        Promise.all(parser._invokeAll(function (ext) {\n          return ext.afterRoot && ext.afterRoot(result);\n        })).then(function () {\n          onLoad(result);\n        });\n      }).catch(onError);\n    }\n    /**\n     * Marks the special nodes/meshes in json for efficient parse.\n     */\n\n  }, {\n    key: \"_markDefs\",\n    value: function _markDefs() {\n      var nodeDefs = this.json.nodes || [];\n      var skinDefs = this.json.skins || [];\n      var meshDefs = this.json.meshes || []; // Nothing in the node definition indicates whether it is a Bone or an\n      // Object3D. Use the skins' joint references to mark bones.\n\n      for (var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {\n        var joints = skinDefs[skinIndex].joints;\n\n        for (var i = 0, il = joints.length; i < il; i++) {\n          nodeDefs[joints[i]].isBone = true;\n        }\n      } // Iterate over all nodes, marking references to shared resources,\n      // as well as skeleton joints.\n\n\n      for (var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n        var nodeDef = nodeDefs[nodeIndex];\n\n        if (nodeDef.mesh !== undefined) {\n          this._addNodeRef(this.meshCache, nodeDef.mesh); // Nothing in the mesh definition indicates whether it is\n          // a SkinnedMesh or Mesh. Use the node's mesh reference\n          // to mark SkinnedMesh if node has skin.\n\n\n          if (nodeDef.skin !== undefined) {\n            meshDefs[nodeDef.mesh].isSkinnedMesh = true;\n          }\n        }\n\n        if (nodeDef.camera !== undefined) {\n          this._addNodeRef(this.cameraCache, nodeDef.camera);\n        }\n      }\n    }\n    /**\n     * Counts references to shared node / Object3D resources. These resources\n     * can be reused, or \"instantiated\", at multiple nodes in the scene\n     * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n     * be marked. Non-scenegraph resources (like Materials, Geometries, and\n     * Textures) can be reused directly and are not marked here.\n     *\n     * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n     */\n\n  }, {\n    key: \"_addNodeRef\",\n    value: function _addNodeRef(cache, index) {\n      if (index === undefined) return;\n\n      if (cache.refs[index] === undefined) {\n        cache.refs[index] = cache.uses[index] = 0;\n      }\n\n      cache.refs[index]++;\n    }\n    /** Returns a reference to a shared resource, cloning it if necessary. */\n\n  }, {\n    key: \"_getNodeRef\",\n    value: function _getNodeRef(cache, index, object) {\n      var _this3 = this;\n\n      if (cache.refs[index] <= 1) return object;\n      var ref = object.clone(); // Propagates mappings to the cloned object, prevents mappings on the\n      // original object from being lost.\n\n      var updateMappings = function updateMappings(original, clone) {\n        var mappings = _this3.associations.get(original);\n\n        if (mappings != null) {\n          _this3.associations.set(clone, mappings);\n        }\n\n        var _iterator = _createForOfIteratorHelper(original.children.entries()),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _step$value = _slicedToArray(_step.value, 2),\n                i = _step$value[0],\n                child = _step$value[1];\n\n            updateMappings(child, clone.children[i]);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      };\n\n      updateMappings(object, ref);\n      ref.name += '_instance_' + cache.uses[index]++;\n      return ref;\n    }\n  }, {\n    key: \"_invokeOne\",\n    value: function _invokeOne(func) {\n      var extensions = Object.values(this.plugins);\n      extensions.push(this);\n\n      for (var i = 0; i < extensions.length; i++) {\n        var result = func(extensions[i]);\n        if (result) return result;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_invokeAll\",\n    value: function _invokeAll(func) {\n      var extensions = Object.values(this.plugins);\n      extensions.unshift(this);\n      var pending = [];\n\n      for (var i = 0; i < extensions.length; i++) {\n        var result = func(extensions[i]);\n        if (result) pending.push(result);\n      }\n\n      return pending;\n    }\n    /**\n     * Requests the specified dependency asynchronously, with caching.\n     * @param {string} type\n     * @param {number} index\n     * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n     */\n\n  }, {\n    key: \"getDependency\",\n    value: function getDependency(type, index) {\n      var cacheKey = type + ':' + index;\n      var dependency = this.cache.get(cacheKey);\n\n      if (!dependency) {\n        switch (type) {\n          case 'scene':\n            dependency = this.loadScene(index);\n            break;\n\n          case 'node':\n            dependency = this.loadNode(index);\n            break;\n\n          case 'mesh':\n            dependency = this._invokeOne(function (ext) {\n              return ext.loadMesh && ext.loadMesh(index);\n            });\n            break;\n\n          case 'accessor':\n            dependency = this.loadAccessor(index);\n            break;\n\n          case 'bufferView':\n            dependency = this._invokeOne(function (ext) {\n              return ext.loadBufferView && ext.loadBufferView(index);\n            });\n            break;\n\n          case 'buffer':\n            dependency = this.loadBuffer(index);\n            break;\n\n          case 'material':\n            dependency = this._invokeOne(function (ext) {\n              return ext.loadMaterial && ext.loadMaterial(index);\n            });\n            break;\n\n          case 'texture':\n            dependency = this._invokeOne(function (ext) {\n              return ext.loadTexture && ext.loadTexture(index);\n            });\n            break;\n\n          case 'skin':\n            dependency = this.loadSkin(index);\n            break;\n\n          case 'animation':\n            dependency = this.loadAnimation(index);\n            break;\n\n          case 'camera':\n            dependency = this.loadCamera(index);\n            break;\n\n          default:\n            throw new Error('Unknown type: ' + type);\n        }\n\n        this.cache.add(cacheKey, dependency);\n      }\n\n      return dependency;\n    }\n    /**\n     * Requests all dependencies of the specified type asynchronously, with caching.\n     * @param {string} type\n     * @return {Promise<Array<Object>>}\n     */\n\n  }, {\n    key: \"getDependencies\",\n    value: function getDependencies(type) {\n      var dependencies = this.cache.get(type);\n\n      if (!dependencies) {\n        var parser = this;\n        var defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || [];\n        dependencies = Promise.all(defs.map(function (def, index) {\n          return parser.getDependency(type, index);\n        }));\n        this.cache.add(type, dependencies);\n      }\n\n      return dependencies;\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n     * @param {number} bufferIndex\n     * @return {Promise<ArrayBuffer>}\n     */\n\n  }, {\n    key: \"loadBuffer\",\n    value: function loadBuffer(bufferIndex) {\n      var bufferDef = this.json.buffers[bufferIndex];\n      var loader = this.fileLoader;\n\n      if (bufferDef.type && bufferDef.type !== 'arraybuffer') {\n        throw new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.');\n      } // If present, GLB container is required to be the first buffer.\n\n\n      if (bufferDef.uri === undefined && bufferIndex === 0) {\n        return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);\n      }\n\n      var options = this.options;\n      return new Promise(function (resolve, reject) {\n        loader.load(LoaderUtils.resolveURL(bufferDef.uri, options.path), resolve, undefined, function () {\n          reject(new Error('THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".'));\n        });\n      });\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n     * @param {number} bufferViewIndex\n     * @return {Promise<ArrayBuffer>}\n     */\n\n  }, {\n    key: \"loadBufferView\",\n    value: function loadBufferView(bufferViewIndex) {\n      var bufferViewDef = this.json.bufferViews[bufferViewIndex];\n      return this.getDependency('buffer', bufferViewDef.buffer).then(function (buffer) {\n        var byteLength = bufferViewDef.byteLength || 0;\n        var byteOffset = bufferViewDef.byteOffset || 0;\n        return buffer.slice(byteOffset, byteOffset + byteLength);\n      });\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n     * @param {number} accessorIndex\n     * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n     */\n\n  }, {\n    key: \"loadAccessor\",\n    value: function loadAccessor(accessorIndex) {\n      var parser = this;\n      var json = this.json;\n      var accessorDef = this.json.accessors[accessorIndex];\n\n      if (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {\n        // Ignore empty accessors, which may be used to declare runtime\n        // information about attributes coming from another source (e.g. Draco\n        // compression extension).\n        return Promise.resolve(null);\n      }\n\n      var pendingBufferViews = [];\n\n      if (accessorDef.bufferView !== undefined) {\n        pendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView));\n      } else {\n        pendingBufferViews.push(null);\n      }\n\n      if (accessorDef.sparse !== undefined) {\n        pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView));\n        pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView));\n      }\n\n      return Promise.all(pendingBufferViews).then(function (bufferViews) {\n        var bufferView = bufferViews[0];\n        var itemSize = WEBGL_TYPE_SIZES[accessorDef.type];\n        var TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]; // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\n        var elementBytes = TypedArray.BYTES_PER_ELEMENT;\n        var itemBytes = elementBytes * itemSize;\n        var byteOffset = accessorDef.byteOffset || 0;\n        var byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined;\n        var normalized = accessorDef.normalized === true;\n        var array, bufferAttribute; // The buffer is not interleaved if the stride is the item size in bytes.\n\n        if (byteStride && byteStride !== itemBytes) {\n          // Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n          // This makes sure that IBA.count reflects accessor.count properly\n          var ibSlice = Math.floor(byteOffset / byteStride);\n          var ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n          var ib = parser.cache.get(ibCacheKey);\n\n          if (!ib) {\n            array = new TypedArray(bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes); // Integer parameters to IB/IBA are in array elements, not bytes.\n\n            ib = new InterleavedBuffer(array, byteStride / elementBytes);\n            parser.cache.add(ibCacheKey, ib);\n          }\n\n          bufferAttribute = new InterleavedBufferAttribute(ib, itemSize, byteOffset % byteStride / elementBytes, normalized);\n        } else {\n          if (bufferView === null) {\n            array = new TypedArray(accessorDef.count * itemSize);\n          } else {\n            array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize);\n          }\n\n          bufferAttribute = new BufferAttribute(array, itemSize, normalized);\n        } // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\n\n        if (accessorDef.sparse !== undefined) {\n          var itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n          var TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType];\n          var byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n          var byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n          var sparseIndices = new TypedArrayIndices(bufferViews[1], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices);\n          var sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize);\n\n          if (bufferView !== null) {\n            // Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n            bufferAttribute = new BufferAttribute(bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized);\n          }\n\n          for (var i = 0, il = sparseIndices.length; i < il; i++) {\n            var index = sparseIndices[i];\n            bufferAttribute.setX(index, sparseValues[i * itemSize]);\n            if (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1]);\n            if (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2]);\n            if (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3]);\n            if (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.');\n          }\n        }\n\n        return bufferAttribute;\n      });\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n     * @param {number} textureIndex\n     * @return {Promise<THREE.Texture>}\n     */\n\n  }, {\n    key: \"loadTexture\",\n    value: function loadTexture(textureIndex) {\n      var json = this.json;\n      var options = this.options;\n      var textureDef = json.textures[textureIndex];\n      var source = json.images[textureDef.source];\n      var loader = this.textureLoader;\n\n      if (source.uri) {\n        var handler = options.manager.getHandler(source.uri);\n        if (handler !== null) loader = handler;\n      }\n\n      return this.loadTextureImage(textureIndex, source, loader);\n    }\n  }, {\n    key: \"loadTextureImage\",\n    value: function loadTextureImage(textureIndex, source, loader) {\n      var parser = this;\n      var json = this.json;\n      var options = this.options;\n      var textureDef = json.textures[textureIndex];\n      var cacheKey = (source.uri || source.bufferView) + ':' + textureDef.sampler;\n\n      if (this.textureCache[cacheKey]) {\n        // See https://github.com/mrdoob/three.js/issues/21559.\n        return this.textureCache[cacheKey];\n      }\n\n      var URL = self.URL || self.webkitURL;\n      var sourceURI = source.uri || '';\n      var isObjectURL = false;\n\n      if (source.bufferView !== undefined) {\n        // Load binary image data from bufferView, if provided.\n        sourceURI = parser.getDependency('bufferView', source.bufferView).then(function (bufferView) {\n          isObjectURL = true;\n          var blob = new Blob([bufferView], {\n            type: source.mimeType\n          });\n          sourceURI = URL.createObjectURL(blob);\n          return sourceURI;\n        });\n      } else if (source.uri === undefined) {\n        throw new Error('THREE.GLTFLoader: Image ' + textureIndex + ' is missing URI and bufferView');\n      }\n\n      var promise = Promise.resolve(sourceURI).then(function (sourceURI) {\n        return new Promise(function (resolve, reject) {\n          var onLoad = resolve;\n\n          if (loader.isImageBitmapLoader === true) {\n            onLoad = function onLoad(imageBitmap) {\n              var texture = new Texture(imageBitmap);\n              texture.needsUpdate = true;\n              resolve(texture);\n            };\n          }\n\n          loader.load(LoaderUtils.resolveURL(sourceURI, options.path), onLoad, undefined, reject);\n        });\n      }).then(function (texture) {\n        // Clean up resources and configure Texture.\n        if (isObjectURL === true) {\n          URL.revokeObjectURL(sourceURI);\n        }\n\n        texture.flipY = false;\n        if (textureDef.name) texture.name = textureDef.name;\n        var samplers = json.samplers || {};\n        var sampler = samplers[textureDef.sampler] || {};\n        texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || LinearFilter;\n        texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || LinearMipmapLinearFilter;\n        texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || RepeatWrapping;\n        texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || RepeatWrapping;\n        parser.associations.set(texture, {\n          textures: textureIndex\n        });\n        return texture;\n      }).catch(function () {\n        console.error('THREE.GLTFLoader: Couldn\\'t load texture', sourceURI);\n        return null;\n      });\n      this.textureCache[cacheKey] = promise;\n      return promise;\n    }\n    /**\n     * Asynchronously assigns a texture to the given material parameters.\n     * @param {Object} materialParams\n     * @param {string} mapName\n     * @param {Object} mapDef\n     * @return {Promise<Texture>}\n     */\n\n  }, {\n    key: \"assignTexture\",\n    value: function assignTexture(materialParams, mapName, mapDef) {\n      var parser = this;\n      return this.getDependency('texture', mapDef.index).then(function (texture) {\n        // Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n        // However, we will copy UV set 0 to UV set 1 on demand for aoMap\n        if (mapDef.texCoord !== undefined && mapDef.texCoord != 0 && !(mapName === 'aoMap' && mapDef.texCoord == 1)) {\n          console.warn('THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.');\n        }\n\n        if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {\n          var transform = mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined;\n\n          if (transform) {\n            var gltfReference = parser.associations.get(texture);\n            texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform);\n            parser.associations.set(texture, gltfReference);\n          }\n        }\n\n        materialParams[mapName] = texture;\n        return texture;\n      });\n    }\n    /**\n     * Assigns final material to a Mesh, Line, or Points instance. The instance\n     * already has a material (generated from the glTF material options alone)\n     * but reuse of the same glTF material may require multiple threejs materials\n     * to accommodate different primitive types, defines, etc. New materials will\n     * be created if necessary, and reused from a cache.\n     * @param  {Object3D} mesh Mesh, Line, or Points instance.\n     */\n\n  }, {\n    key: \"assignFinalMaterial\",\n    value: function assignFinalMaterial(mesh) {\n      var geometry = mesh.geometry;\n      var material = mesh.material;\n      var useDerivativeTangents = geometry.attributes.tangent === undefined;\n      var useVertexColors = geometry.attributes.color !== undefined;\n      var useFlatShading = geometry.attributes.normal === undefined;\n\n      if (mesh.isPoints) {\n        var cacheKey = 'PointsMaterial:' + material.uuid;\n        var pointsMaterial = this.cache.get(cacheKey);\n\n        if (!pointsMaterial) {\n          pointsMaterial = new PointsMaterial();\n          Material.prototype.copy.call(pointsMaterial, material);\n          pointsMaterial.color.copy(material.color);\n          pointsMaterial.map = material.map;\n          pointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n          this.cache.add(cacheKey, pointsMaterial);\n        }\n\n        material = pointsMaterial;\n      } else if (mesh.isLine) {\n        var _cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n        var lineMaterial = this.cache.get(_cacheKey);\n\n        if (!lineMaterial) {\n          lineMaterial = new LineBasicMaterial();\n          Material.prototype.copy.call(lineMaterial, material);\n          lineMaterial.color.copy(material.color);\n          this.cache.add(_cacheKey, lineMaterial);\n        }\n\n        material = lineMaterial;\n      } // Clone the material if it will be modified\n\n\n      if (useDerivativeTangents || useVertexColors || useFlatShading) {\n        var _cacheKey2 = 'ClonedMaterial:' + material.uuid + ':';\n\n        if (material.isGLTFSpecularGlossinessMaterial) _cacheKey2 += 'specular-glossiness:';\n        if (useDerivativeTangents) _cacheKey2 += 'derivative-tangents:';\n        if (useVertexColors) _cacheKey2 += 'vertex-colors:';\n        if (useFlatShading) _cacheKey2 += 'flat-shading:';\n        var cachedMaterial = this.cache.get(_cacheKey2);\n\n        if (!cachedMaterial) {\n          cachedMaterial = material.clone();\n          if (useVertexColors) cachedMaterial.vertexColors = true;\n          if (useFlatShading) cachedMaterial.flatShading = true;\n\n          if (useDerivativeTangents) {\n            // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n            if (cachedMaterial.normalScale) cachedMaterial.normalScale.y *= -1;\n            if (cachedMaterial.clearcoatNormalScale) cachedMaterial.clearcoatNormalScale.y *= -1;\n          }\n\n          this.cache.add(_cacheKey2, cachedMaterial);\n          this.associations.set(cachedMaterial, this.associations.get(material));\n        }\n\n        material = cachedMaterial;\n      } // workarounds for mesh and geometry\n\n\n      if (material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined) {\n        geometry.setAttribute('uv2', geometry.attributes.uv);\n      }\n\n      mesh.material = material;\n    }\n  }, {\n    key: \"getMaterialType\",\n    value: function\n      /* materialIndex */\n    getMaterialType() {\n      return MeshStandardMaterial;\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n     * @param {number} materialIndex\n     * @return {Promise<Material>}\n     */\n\n  }, {\n    key: \"loadMaterial\",\n    value: function loadMaterial(materialIndex) {\n      var parser = this;\n      var json = this.json;\n      var extensions = this.extensions;\n      var materialDef = json.materials[materialIndex];\n      var materialType;\n      var materialParams = {};\n      var materialExtensions = materialDef.extensions || {};\n      var pending = [];\n\n      if (materialExtensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {\n        var sgExtension = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];\n        materialType = sgExtension.getMaterialType();\n        pending.push(sgExtension.extendParams(materialParams, materialDef, parser));\n      } else if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {\n        var kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT];\n        materialType = kmuExtension.getMaterialType();\n        pending.push(kmuExtension.extendParams(materialParams, materialDef, parser));\n      } else {\n        // Specification:\n        // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n        var metallicRoughness = materialDef.pbrMetallicRoughness || {};\n        materialParams.color = new Color(1.0, 1.0, 1.0);\n        materialParams.opacity = 1.0;\n\n        if (Array.isArray(metallicRoughness.baseColorFactor)) {\n          var array = metallicRoughness.baseColorFactor;\n          materialParams.color.fromArray(array);\n          materialParams.opacity = array[3];\n        }\n\n        if (metallicRoughness.baseColorTexture !== undefined) {\n          pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n        }\n\n        materialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n        materialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n        if (metallicRoughness.metallicRoughnessTexture !== undefined) {\n          pending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture));\n          pending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture));\n        }\n\n        materialType = this._invokeOne(function (ext) {\n          return ext.getMaterialType && ext.getMaterialType(materialIndex);\n        });\n        pending.push(Promise.all(this._invokeAll(function (ext) {\n          return ext.extendMaterialParams && ext.extendMaterialParams(materialIndex, materialParams);\n        })));\n      }\n\n      if (materialDef.doubleSided === true) {\n        materialParams.side = DoubleSide;\n      }\n\n      var alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n      if (alphaMode === ALPHA_MODES.BLEND) {\n        materialParams.transparent = true; // See: https://github.com/mrdoob/three.js/issues/17706\n\n        materialParams.depthWrite = false;\n      } else {\n        materialParams.transparent = false;\n\n        if (alphaMode === ALPHA_MODES.MASK) {\n          materialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n        }\n      }\n\n      if (materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial) {\n        pending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture));\n        materialParams.normalScale = new Vector2(1, 1);\n\n        if (materialDef.normalTexture.scale !== undefined) {\n          var scale = materialDef.normalTexture.scale;\n          materialParams.normalScale.set(scale, scale);\n        }\n      }\n\n      if (materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial) {\n        pending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture));\n\n        if (materialDef.occlusionTexture.strength !== undefined) {\n          materialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n        }\n      }\n\n      if (materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial) {\n        materialParams.emissive = new Color().fromArray(materialDef.emissiveFactor);\n      }\n\n      if (materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial) {\n        pending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture));\n      }\n\n      return Promise.all(pending).then(function () {\n        var material;\n\n        if (materialType === GLTFMeshStandardSGMaterial) {\n          material = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(materialParams);\n        } else {\n          material = new materialType(materialParams);\n        }\n\n        if (materialDef.name) material.name = materialDef.name; // baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\n        if (material.map) material.map.encoding = sRGBEncoding;\n        if (material.emissiveMap) material.emissiveMap.encoding = sRGBEncoding;\n        assignExtrasToUserData(material, materialDef);\n        parser.associations.set(material, {\n          materials: materialIndex\n        });\n        if (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef);\n        return material;\n      });\n    }\n    /** When Object3D instances are targeted by animation, they need unique names. */\n\n  }, {\n    key: \"createUniqueName\",\n    value: function createUniqueName(originalName) {\n      var sanitizedName = PropertyBinding.sanitizeNodeName(originalName || '');\n      var name = sanitizedName;\n\n      for (var i = 1; this.nodeNamesUsed[name]; ++i) {\n        name = sanitizedName + '_' + i;\n      }\n\n      this.nodeNamesUsed[name] = true;\n      return name;\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n     *\n     * Creates BufferGeometries from primitives.\n     *\n     * @param {Array<GLTF.Primitive>} primitives\n     * @return {Promise<Array<BufferGeometry>>}\n     */\n\n  }, {\n    key: \"loadGeometries\",\n    value: function loadGeometries(primitives) {\n      var parser = this;\n      var extensions = this.extensions;\n      var cache = this.primitiveCache;\n\n      function createDracoPrimitive(primitive) {\n        return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(primitive, parser).then(function (geometry) {\n          return addPrimitiveAttributes(geometry, primitive, parser);\n        });\n      }\n\n      var pending = [];\n\n      for (var i = 0, il = primitives.length; i < il; i++) {\n        var primitive = primitives[i];\n        var cacheKey = createPrimitiveKey(primitive); // See if we've already created this geometry\n\n        var cached = cache[cacheKey];\n\n        if (cached) {\n          // Use the cached geometry if it exists\n          pending.push(cached.promise);\n        } else {\n          var geometryPromise = void 0;\n\n          if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {\n            // Use DRACO geometry if available\n            geometryPromise = createDracoPrimitive(primitive);\n          } else {\n            // Otherwise create a new geometry\n            geometryPromise = addPrimitiveAttributes(new BufferGeometry(), primitive, parser);\n          } // Cache this geometry\n\n\n          cache[cacheKey] = {\n            primitive: primitive,\n            promise: geometryPromise\n          };\n          pending.push(geometryPromise);\n        }\n      }\n\n      return Promise.all(pending);\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n     * @param {number} meshIndex\n     * @return {Promise<Group|Mesh|SkinnedMesh>}\n     */\n\n  }, {\n    key: \"loadMesh\",\n    value: function loadMesh(meshIndex) {\n      var parser = this;\n      var json = this.json;\n      var extensions = this.extensions;\n      var meshDef = json.meshes[meshIndex];\n      var primitives = meshDef.primitives;\n      var pending = [];\n\n      for (var i = 0, il = primitives.length; i < il; i++) {\n        var material = primitives[i].material === undefined ? createDefaultMaterial(this.cache) : this.getDependency('material', primitives[i].material);\n        pending.push(material);\n      }\n\n      pending.push(parser.loadGeometries(primitives));\n      return Promise.all(pending).then(function (results) {\n        var materials = results.slice(0, results.length - 1);\n        var geometries = results[results.length - 1];\n        var meshes = [];\n\n        for (var _i4 = 0, _il3 = geometries.length; _i4 < _il3; _i4++) {\n          var geometry = geometries[_i4];\n          var primitive = primitives[_i4]; // 1. create Mesh\n\n          var mesh = void 0;\n          var _material = materials[_i4];\n\n          if (primitive.mode === WEBGL_CONSTANTS.TRIANGLES || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN || primitive.mode === undefined) {\n            // .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n            mesh = meshDef.isSkinnedMesh === true ? new SkinnedMesh(geometry, _material) : new Mesh(geometry, _material);\n\n            if (mesh.isSkinnedMesh === true && !mesh.geometry.attributes.skinWeight.normalized) {\n              // we normalize floating point skin weight array to fix malformed assets (see #15319)\n              // it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n              mesh.normalizeSkinWeights();\n            }\n\n            if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {\n              mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleStripDrawMode);\n            } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {\n              mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleFanDrawMode);\n            }\n          } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {\n            mesh = new LineSegments(geometry, _material);\n          } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {\n            mesh = new Line(geometry, _material);\n          } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {\n            mesh = new LineLoop(geometry, _material);\n          } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {\n            mesh = new Points(geometry, _material);\n          } else {\n            throw new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode);\n          }\n\n          if (Object.keys(mesh.geometry.morphAttributes).length > 0) {\n            updateMorphTargets(mesh, meshDef);\n          }\n\n          mesh.name = parser.createUniqueName(meshDef.name || 'mesh_' + meshIndex);\n          assignExtrasToUserData(mesh, meshDef);\n          if (primitive.extensions) addUnknownExtensionsToUserData(extensions, mesh, primitive);\n          parser.assignFinalMaterial(mesh);\n          meshes.push(mesh);\n        }\n\n        for (var _i5 = 0, _il4 = meshes.length; _i5 < _il4; _i5++) {\n          parser.associations.set(meshes[_i5], {\n            meshes: meshIndex,\n            primitives: _i5\n          });\n        }\n\n        if (meshes.length === 1) {\n          return meshes[0];\n        }\n\n        var group = new Group();\n        parser.associations.set(group, {\n          meshes: meshIndex\n        });\n\n        for (var _i6 = 0, _il5 = meshes.length; _i6 < _il5; _i6++) {\n          group.add(meshes[_i6]);\n        }\n\n        return group;\n      });\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n     * @param {number} cameraIndex\n     * @return {Promise<THREE.Camera>}\n     */\n\n  }, {\n    key: \"loadCamera\",\n    value: function loadCamera(cameraIndex) {\n      var camera;\n      var cameraDef = this.json.cameras[cameraIndex];\n      var params = cameraDef[cameraDef.type];\n\n      if (!params) {\n        console.warn('THREE.GLTFLoader: Missing camera parameters.');\n        return;\n      }\n\n      if (cameraDef.type === 'perspective') {\n        camera = new PerspectiveCamera(MathUtils.radToDeg(params.yfov), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6);\n      } else if (cameraDef.type === 'orthographic') {\n        camera = new OrthographicCamera(-params.xmag, params.xmag, params.ymag, -params.ymag, params.znear, params.zfar);\n      }\n\n      if (cameraDef.name) camera.name = this.createUniqueName(cameraDef.name);\n      assignExtrasToUserData(camera, cameraDef);\n      return Promise.resolve(camera);\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n     * @param {number} skinIndex\n     * @return {Promise<Object>}\n     */\n\n  }, {\n    key: \"loadSkin\",\n    value: function loadSkin(skinIndex) {\n      var skinDef = this.json.skins[skinIndex];\n      var skinEntry = {\n        joints: skinDef.joints\n      };\n\n      if (skinDef.inverseBindMatrices === undefined) {\n        return Promise.resolve(skinEntry);\n      }\n\n      return this.getDependency('accessor', skinDef.inverseBindMatrices).then(function (accessor) {\n        skinEntry.inverseBindMatrices = accessor;\n        return skinEntry;\n      });\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n     * @param {number} animationIndex\n     * @return {Promise<AnimationClip>}\n     */\n\n  }, {\n    key: \"loadAnimation\",\n    value: function loadAnimation(animationIndex) {\n      var json = this.json;\n      var animationDef = json.animations[animationIndex];\n      var pendingNodes = [];\n      var pendingInputAccessors = [];\n      var pendingOutputAccessors = [];\n      var pendingSamplers = [];\n      var pendingTargets = [];\n\n      for (var i = 0, il = animationDef.channels.length; i < il; i++) {\n        var channel = animationDef.channels[i];\n        var sampler = animationDef.samplers[channel.sampler];\n        var target = channel.target;\n        var name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\n        var input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input;\n        var output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output;\n        pendingNodes.push(this.getDependency('node', name));\n        pendingInputAccessors.push(this.getDependency('accessor', input));\n        pendingOutputAccessors.push(this.getDependency('accessor', output));\n        pendingSamplers.push(sampler);\n        pendingTargets.push(target);\n      }\n\n      return Promise.all([Promise.all(pendingNodes), Promise.all(pendingInputAccessors), Promise.all(pendingOutputAccessors), Promise.all(pendingSamplers), Promise.all(pendingTargets)]).then(function (dependencies) {\n        var nodes = dependencies[0];\n        var inputAccessors = dependencies[1];\n        var outputAccessors = dependencies[2];\n        var samplers = dependencies[3];\n        var targets = dependencies[4];\n        var tracks = [];\n\n        var _loop = function _loop(_i7, _il6) {\n          var node = nodes[_i7];\n          var inputAccessor = inputAccessors[_i7];\n          var outputAccessor = outputAccessors[_i7];\n          var sampler = samplers[_i7];\n          var target = targets[_i7];\n          if (node === undefined) return \"continue\";\n          node.updateMatrix();\n          node.matrixAutoUpdate = true;\n          var TypedKeyframeTrack = void 0;\n\n          switch (PATH_PROPERTIES[target.path]) {\n            case PATH_PROPERTIES.weights:\n              TypedKeyframeTrack = NumberKeyframeTrack;\n              break;\n\n            case PATH_PROPERTIES.rotation:\n              TypedKeyframeTrack = QuaternionKeyframeTrack;\n              break;\n\n            case PATH_PROPERTIES.position:\n            case PATH_PROPERTIES.scale:\n            default:\n              TypedKeyframeTrack = VectorKeyframeTrack;\n              break;\n          }\n\n          var targetName = node.name ? node.name : node.uuid;\n          var interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : InterpolateLinear;\n          var targetNames = [];\n\n          if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {\n            node.traverse(function (object) {\n              if (object.morphTargetInfluences) {\n                targetNames.push(object.name ? object.name : object.uuid);\n              }\n            });\n          } else {\n            targetNames.push(targetName);\n          }\n\n          var outputArray = outputAccessor.array;\n\n          if (outputAccessor.normalized) {\n            var scale = getNormalizedComponentScale(outputArray.constructor);\n            var scaled = new Float32Array(outputArray.length);\n\n            for (var j = 0, jl = outputArray.length; j < jl; j++) {\n              scaled[j] = outputArray[j] * scale;\n            }\n\n            outputArray = scaled;\n          }\n\n          for (var _j = 0, _jl = targetNames.length; _j < _jl; _j++) {\n            var track = new TypedKeyframeTrack(targetNames[_j] + '.' + PATH_PROPERTIES[target.path], inputAccessor.array, outputArray, interpolation); // Override interpolation with custom factory method.\n\n            if (sampler.interpolation === 'CUBICSPLINE') {\n              track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {\n                // A CUBICSPLINE keyframe in glTF has three output values for each input value,\n                // representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n                // must be divided by three to get the interpolant's sampleSize argument.\n                var interpolantType = this instanceof QuaternionKeyframeTrack ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant;\n                return new interpolantType(this.times, this.values, this.getValueSize() / 3, result);\n              }; // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\n\n              track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n            }\n\n            tracks.push(track);\n          }\n        };\n\n        for (var _i7 = 0, _il6 = nodes.length; _i7 < _il6; _i7++) {\n          var _ret = _loop(_i7, _il6);\n\n          if (_ret === \"continue\") continue;\n        }\n\n        var name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n        return new AnimationClip(name, undefined, tracks);\n      });\n    }\n  }, {\n    key: \"createNodeMesh\",\n    value: function createNodeMesh(nodeIndex) {\n      var json = this.json;\n      var parser = this;\n      var nodeDef = json.nodes[nodeIndex];\n      if (nodeDef.mesh === undefined) return null;\n      return parser.getDependency('mesh', nodeDef.mesh).then(function (mesh) {\n        var node = parser._getNodeRef(parser.meshCache, nodeDef.mesh, mesh); // if weights are provided on the node, override weights on the mesh.\n\n\n        if (nodeDef.weights !== undefined) {\n          node.traverse(function (o) {\n            if (!o.isMesh) return;\n\n            for (var i = 0, il = nodeDef.weights.length; i < il; i++) {\n              o.morphTargetInfluences[i] = nodeDef.weights[i];\n            }\n          });\n        }\n\n        return node;\n      });\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n     * @param {number} nodeIndex\n     * @return {Promise<Object3D>}\n     */\n\n  }, {\n    key: \"loadNode\",\n    value: function loadNode(nodeIndex) {\n      var json = this.json;\n      var extensions = this.extensions;\n      var parser = this;\n      var nodeDef = json.nodes[nodeIndex]; // reserve node's name before its dependencies, so the root has the intended name.\n\n      var nodeName = nodeDef.name ? parser.createUniqueName(nodeDef.name) : '';\n      return function () {\n        var pending = [];\n\n        var meshPromise = parser._invokeOne(function (ext) {\n          return ext.createNodeMesh && ext.createNodeMesh(nodeIndex);\n        });\n\n        if (meshPromise) {\n          pending.push(meshPromise);\n        }\n\n        if (nodeDef.camera !== undefined) {\n          pending.push(parser.getDependency('camera', nodeDef.camera).then(function (camera) {\n            return parser._getNodeRef(parser.cameraCache, nodeDef.camera, camera);\n          }));\n        }\n\n        parser._invokeAll(function (ext) {\n          return ext.createNodeAttachment && ext.createNodeAttachment(nodeIndex);\n        }).forEach(function (promise) {\n          pending.push(promise);\n        });\n\n        return Promise.all(pending);\n      }().then(function (objects) {\n        var node; // .isBone isn't in glTF spec. See ._markDefs\n\n        if (nodeDef.isBone === true) {\n          node = new Bone();\n        } else if (objects.length > 1) {\n          node = new Group();\n        } else if (objects.length === 1) {\n          node = objects[0];\n        } else {\n          node = new Object3D();\n        }\n\n        if (node !== objects[0]) {\n          for (var i = 0, il = objects.length; i < il; i++) {\n            node.add(objects[i]);\n          }\n        }\n\n        if (nodeDef.name) {\n          node.userData.name = nodeDef.name;\n          node.name = nodeName;\n        }\n\n        assignExtrasToUserData(node, nodeDef);\n        if (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef);\n\n        if (nodeDef.matrix !== undefined) {\n          var matrix = new Matrix4();\n          matrix.fromArray(nodeDef.matrix);\n          node.applyMatrix4(matrix);\n        } else {\n          if (nodeDef.translation !== undefined) {\n            node.position.fromArray(nodeDef.translation);\n          }\n\n          if (nodeDef.rotation !== undefined) {\n            node.quaternion.fromArray(nodeDef.rotation);\n          }\n\n          if (nodeDef.scale !== undefined) {\n            node.scale.fromArray(nodeDef.scale);\n          }\n        }\n\n        if (!parser.associations.has(node)) {\n          parser.associations.set(node, {});\n        }\n\n        parser.associations.get(node).nodes = nodeIndex;\n        return node;\n      });\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n     * @param {number} sceneIndex\n     * @return {Promise<Group>}\n     */\n\n  }, {\n    key: \"loadScene\",\n    value: function loadScene(sceneIndex) {\n      var json = this.json;\n      var extensions = this.extensions;\n      var sceneDef = this.json.scenes[sceneIndex];\n      var parser = this; // Loader returns Group, not Scene.\n      // See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\n      var scene = new Group();\n      if (sceneDef.name) scene.name = parser.createUniqueName(sceneDef.name);\n      assignExtrasToUserData(scene, sceneDef);\n      if (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef);\n      var nodeIds = sceneDef.nodes || [];\n      var pending = [];\n\n      for (var i = 0, il = nodeIds.length; i < il; i++) {\n        pending.push(buildNodeHierarchy(nodeIds[i], scene, json, parser));\n      }\n\n      return Promise.all(pending).then(function () {\n        // Removes dangling associations, associations that reference a node that\n        // didn't make it into the scene.\n        var reduceAssociations = function reduceAssociations(node) {\n          var reducedAssociations = new Map();\n\n          var _iterator2 = _createForOfIteratorHelper(parser.associations),\n              _step2;\n\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var _step2$value = _slicedToArray(_step2.value, 2),\n                  key = _step2$value[0],\n                  value = _step2$value[1];\n\n              if (key instanceof Material || key instanceof Texture) {\n                reducedAssociations.set(key, value);\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n\n          node.traverse(function (node) {\n            var mappings = parser.associations.get(node);\n\n            if (mappings != null) {\n              reducedAssociations.set(node, mappings);\n            }\n          });\n          return reducedAssociations;\n        };\n\n        parser.associations = reduceAssociations(scene);\n        return scene;\n      });\n    }\n  }]);\n\n  return GLTFParser;\n}();\n\nfunction buildNodeHierarchy(nodeId, parentObject, json, parser) {\n  var nodeDef = json.nodes[nodeId];\n  return parser.getDependency('node', nodeId).then(function (node) {\n    if (nodeDef.skin === undefined) return node; // build skeleton here as well\n\n    var skinEntry;\n    return parser.getDependency('skin', nodeDef.skin).then(function (skin) {\n      skinEntry = skin;\n      var pendingJoints = [];\n\n      for (var i = 0, il = skinEntry.joints.length; i < il; i++) {\n        pendingJoints.push(parser.getDependency('node', skinEntry.joints[i]));\n      }\n\n      return Promise.all(pendingJoints);\n    }).then(function (jointNodes) {\n      node.traverse(function (mesh) {\n        if (!mesh.isMesh) return;\n        var bones = [];\n        var boneInverses = [];\n\n        for (var j = 0, jl = jointNodes.length; j < jl; j++) {\n          var jointNode = jointNodes[j];\n\n          if (jointNode) {\n            bones.push(jointNode);\n            var mat = new Matrix4();\n\n            if (skinEntry.inverseBindMatrices !== undefined) {\n              mat.fromArray(skinEntry.inverseBindMatrices.array, j * 16);\n            }\n\n            boneInverses.push(mat);\n          } else {\n            console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[j]);\n          }\n        }\n\n        mesh.bind(new Skeleton(bones, boneInverses), mesh.matrixWorld);\n      });\n      return node;\n    });\n  }).then(function (node) {\n    // build node hierachy\n    parentObject.add(node);\n    var pending = [];\n\n    if (nodeDef.children) {\n      var children = nodeDef.children;\n\n      for (var i = 0, il = children.length; i < il; i++) {\n        var child = children[i];\n        pending.push(buildNodeHierarchy(child, node, json, parser));\n      }\n    }\n\n    return Promise.all(pending);\n  });\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\n\n\nfunction computeBounds(geometry, primitiveDef, parser) {\n  var attributes = primitiveDef.attributes;\n  var box = new Box3();\n\n  if (attributes.POSITION !== undefined) {\n    var accessor = parser.json.accessors[attributes.POSITION];\n    var min = accessor.min;\n    var max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n    if (min !== undefined && max !== undefined) {\n      box.set(new Vector3(min[0], min[1], min[2]), new Vector3(max[0], max[1], max[2]));\n\n      if (accessor.normalized) {\n        var boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType]);\n        box.min.multiplyScalar(boxScale);\n        box.max.multiplyScalar(boxScale);\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n      return;\n    }\n  } else {\n    return;\n  }\n\n  var targets = primitiveDef.targets;\n\n  if (targets !== undefined) {\n    var maxDisplacement = new Vector3();\n    var vector = new Vector3();\n\n    for (var i = 0, il = targets.length; i < il; i++) {\n      var target = targets[i];\n\n      if (target.POSITION !== undefined) {\n        var _accessor = parser.json.accessors[target.POSITION];\n        var _min = _accessor.min;\n        var _max = _accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n        if (_min !== undefined && _max !== undefined) {\n          // we need to get max of absolute components because target weight is [-1,1]\n          vector.setX(Math.max(Math.abs(_min[0]), Math.abs(_max[0])));\n          vector.setY(Math.max(Math.abs(_min[1]), Math.abs(_max[1])));\n          vector.setZ(Math.max(Math.abs(_min[2]), Math.abs(_max[2])));\n\n          if (_accessor.normalized) {\n            var _boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[_accessor.componentType]);\n\n            vector.multiplyScalar(_boxScale);\n          } // Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n          // to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n          // are used to implement key-frame animations and as such only two are active at a time - this results in very large\n          // boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\n\n          maxDisplacement.max(vector);\n        } else {\n          console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n        }\n      }\n    } // As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\n\n    box.expandByVector(maxDisplacement);\n  }\n\n  geometry.boundingBox = box;\n  var sphere = new Sphere();\n  box.getCenter(sphere.center);\n  sphere.radius = box.min.distanceTo(box.max) / 2;\n  geometry.boundingSphere = sphere;\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\n\n\nfunction addPrimitiveAttributes(geometry, primitiveDef, parser) {\n  var attributes = primitiveDef.attributes;\n  var pending = [];\n\n  function assignAttributeAccessor(accessorIndex, attributeName) {\n    return parser.getDependency('accessor', accessorIndex).then(function (accessor) {\n      geometry.setAttribute(attributeName, accessor);\n    });\n  }\n\n  for (var gltfAttributeName in attributes) {\n    var threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase(); // Skip attributes already provided by e.g. Draco extension.\n\n    if (threeAttributeName in geometry.attributes) continue;\n    pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName));\n  }\n\n  if (primitiveDef.indices !== undefined && !geometry.index) {\n    var accessor = parser.getDependency('accessor', primitiveDef.indices).then(function (accessor) {\n      geometry.setIndex(accessor);\n    });\n    pending.push(accessor);\n  }\n\n  assignExtrasToUserData(geometry, primitiveDef);\n  computeBounds(geometry, primitiveDef, parser);\n  return Promise.all(pending).then(function () {\n    return primitiveDef.targets !== undefined ? addMorphTargets(geometry, primitiveDef.targets, parser) : geometry;\n  });\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {Number} drawMode\n * @return {BufferGeometry}\n */\n\n\nfunction toTrianglesDrawMode(geometry, drawMode) {\n  var index = geometry.getIndex(); // generate index if not present\n\n  if (index === null) {\n    var indices = [];\n    var position = geometry.getAttribute('position');\n\n    if (position !== undefined) {\n      for (var i = 0; i < position.count; i++) {\n        indices.push(i);\n      }\n\n      geometry.setIndex(indices);\n      index = geometry.getIndex();\n    } else {\n      console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.');\n      return geometry;\n    }\n  } //\n\n\n  var numberOfTriangles = index.count - 2;\n  var newIndices = [];\n\n  if (drawMode === TriangleFanDrawMode) {\n    // gl.TRIANGLE_FAN\n    for (var _i8 = 1; _i8 <= numberOfTriangles; _i8++) {\n      newIndices.push(index.getX(0));\n      newIndices.push(index.getX(_i8));\n      newIndices.push(index.getX(_i8 + 1));\n    }\n  } else {\n    // gl.TRIANGLE_STRIP\n    for (var _i9 = 0; _i9 < numberOfTriangles; _i9++) {\n      if (_i9 % 2 === 0) {\n        newIndices.push(index.getX(_i9));\n        newIndices.push(index.getX(_i9 + 1));\n        newIndices.push(index.getX(_i9 + 2));\n      } else {\n        newIndices.push(index.getX(_i9 + 2));\n        newIndices.push(index.getX(_i9 + 1));\n        newIndices.push(index.getX(_i9));\n      }\n    }\n  }\n\n  if (newIndices.length / 3 !== numberOfTriangles) {\n    console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.');\n  } // build final geometry\n\n\n  var newGeometry = geometry.clone();\n  newGeometry.setIndex(newIndices);\n  return newGeometry;\n}\n\nexport { GLTFLoader };","import _createClass from \"/home/dsplvd/Documents/curva-luz/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/home/dsplvd/Documents/curva-luz/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _assertThisInitialized from \"/home/dsplvd/Documents/curva-luz/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/home/dsplvd/Documents/curva-luz/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/home/dsplvd/Documents/curva-luz/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/home/dsplvd/Documents/curva-luz/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { EventDispatcher, MOUSE, Quaternion, Spherical, TOUCH, Vector2, Vector3 } from 'three'; // This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar _changeEvent = {\n  type: 'change'\n};\nvar _startEvent = {\n  type: 'start'\n};\nvar _endEvent = {\n  type: 'end'\n};\n\nvar OrbitControls = /*#__PURE__*/function (_EventDispatcher) {\n  _inherits(OrbitControls, _EventDispatcher);\n\n  var _super = _createSuper(OrbitControls);\n\n  function OrbitControls(object, domElement) {\n    var _this;\n\n    _classCallCheck(this, OrbitControls);\n\n    _this = _super.call(this);\n    if (domElement === undefined) console.warn('THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.');\n    if (domElement === document) console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n    _this.object = object;\n    _this.domElement = domElement;\n    _this.domElement.style.touchAction = 'none'; // disable touch scroll\n    // Set to false to disable this control\n\n    _this.enabled = true; // \"target\" sets the location of focus, where the object orbits around\n\n    _this.target = new Vector3(); // How far you can dolly in and out ( PerspectiveCamera only )\n\n    _this.minDistance = 0;\n    _this.maxDistance = Infinity; // How far you can zoom in and out ( OrthographicCamera only )\n\n    _this.minZoom = 0;\n    _this.maxZoom = Infinity; // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n\n    _this.minPolarAngle = 0; // radians\n\n    _this.maxPolarAngle = Math.PI; // radians\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\n    _this.minAzimuthAngle = -Infinity; // radians\n\n    _this.maxAzimuthAngle = Infinity; // radians\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n\n    _this.enableDamping = false;\n    _this.dampingFactor = 0.05; // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n    // Set to false to disable zooming\n\n    _this.enableZoom = true;\n    _this.zoomSpeed = 1.0; // Set to false to disable rotating\n\n    _this.enableRotate = true;\n    _this.rotateSpeed = 1.0; // Set to false to disable panning\n\n    _this.enablePan = true;\n    _this.panSpeed = 1.0;\n    _this.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\n    _this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n    // Set to true to automatically rotate around the target\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\n\n    _this.autoRotate = false;\n    _this.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n    // The four arrow keys\n\n    _this.keys = {\n      LEFT: 'ArrowLeft',\n      UP: 'ArrowUp',\n      RIGHT: 'ArrowRight',\n      BOTTOM: 'ArrowDown'\n    }; // Mouse buttons\n\n    _this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    }; // Touch fingers\n\n    _this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    }; // for reset\n\n    _this.target0 = _this.target.clone();\n    _this.position0 = _this.object.position.clone();\n    _this.zoom0 = _this.object.zoom; // the target DOM element for key events\n\n    _this._domElementKeyEvents = null; //\n    // public methods\n    //\n\n    _this.getPolarAngle = function () {\n      return spherical.phi;\n    };\n\n    _this.getAzimuthalAngle = function () {\n      return spherical.theta;\n    };\n\n    _this.getDistance = function () {\n      return this.object.position.distanceTo(this.target);\n    };\n\n    _this.listenToKeyEvents = function (domElement) {\n      domElement.addEventListener('keydown', onKeyDown);\n      this._domElementKeyEvents = domElement;\n    };\n\n    _this.saveState = function () {\n      scope.target0.copy(scope.target);\n      scope.position0.copy(scope.object.position);\n      scope.zoom0 = scope.object.zoom;\n    };\n\n    _this.reset = function () {\n      scope.target.copy(scope.target0);\n      scope.object.position.copy(scope.position0);\n      scope.object.zoom = scope.zoom0;\n      scope.object.updateProjectionMatrix();\n      scope.dispatchEvent(_changeEvent);\n      scope.update();\n      state = STATE.NONE;\n    }; // this method is exposed, but perhaps it would be better if we can make it private...\n\n\n    _this.update = function () {\n      var offset = new Vector3(); // so camera.up is the orbit axis\n\n      var quat = new Quaternion().setFromUnitVectors(object.up, new Vector3(0, 1, 0));\n      var quatInverse = quat.clone().invert();\n      var lastPosition = new Vector3();\n      var lastQuaternion = new Quaternion();\n      var twoPI = 2 * Math.PI;\n      return function update() {\n        var position = scope.object.position;\n        offset.copy(position).sub(scope.target); // rotate offset to \"y-axis-is-up\" space\n\n        offset.applyQuaternion(quat); // angle from z-axis around y-axis\n\n        spherical.setFromVector3(offset);\n\n        if (scope.autoRotate && state === STATE.NONE) {\n          rotateLeft(getAutoRotationAngle());\n        }\n\n        if (scope.enableDamping) {\n          spherical.theta += sphericalDelta.theta * scope.dampingFactor;\n          spherical.phi += sphericalDelta.phi * scope.dampingFactor;\n        } else {\n          spherical.theta += sphericalDelta.theta;\n          spherical.phi += sphericalDelta.phi;\n        } // restrict theta to be between desired limits\n\n\n        var min = scope.minAzimuthAngle;\n        var max = scope.maxAzimuthAngle;\n\n        if (isFinite(min) && isFinite(max)) {\n          if (min < -Math.PI) min += twoPI;else if (min > Math.PI) min -= twoPI;\n          if (max < -Math.PI) max += twoPI;else if (max > Math.PI) max -= twoPI;\n\n          if (min <= max) {\n            spherical.theta = Math.max(min, Math.min(max, spherical.theta));\n          } else {\n            spherical.theta = spherical.theta > (min + max) / 2 ? Math.max(min, spherical.theta) : Math.min(max, spherical.theta);\n          }\n        } // restrict phi to be between desired limits\n\n\n        spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n        spherical.makeSafe();\n        spherical.radius *= scale; // restrict radius to be between desired limits\n\n        spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius)); // move target to panned location\n\n        if (scope.enableDamping === true) {\n          scope.target.addScaledVector(panOffset, scope.dampingFactor);\n        } else {\n          scope.target.add(panOffset);\n        }\n\n        offset.setFromSpherical(spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n        offset.applyQuaternion(quatInverse);\n        position.copy(scope.target).add(offset);\n        scope.object.lookAt(scope.target);\n\n        if (scope.enableDamping === true) {\n          sphericalDelta.theta *= 1 - scope.dampingFactor;\n          sphericalDelta.phi *= 1 - scope.dampingFactor;\n          panOffset.multiplyScalar(1 - scope.dampingFactor);\n        } else {\n          sphericalDelta.set(0, 0, 0);\n          panOffset.set(0, 0, 0);\n        }\n\n        scale = 1; // update condition is:\n        // min(camera displacement, camera rotation in radians)^2 > EPS\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n        if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n          scope.dispatchEvent(_changeEvent);\n          lastPosition.copy(scope.object.position);\n          lastQuaternion.copy(scope.object.quaternion);\n          zoomChanged = false;\n          return true;\n        }\n\n        return false;\n      };\n    }();\n\n    _this.dispose = function () {\n      scope.domElement.removeEventListener('contextmenu', onContextMenu);\n      scope.domElement.removeEventListener('pointerdown', onPointerDown);\n      scope.domElement.removeEventListener('pointercancel', onPointerCancel);\n      scope.domElement.removeEventListener('wheel', onMouseWheel);\n      scope.domElement.removeEventListener('pointermove', onPointerMove);\n      scope.domElement.removeEventListener('pointerup', onPointerUp);\n\n      if (scope._domElementKeyEvents !== null) {\n        scope._domElementKeyEvents.removeEventListener('keydown', onKeyDown);\n      } //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n    }; //\n    // internals\n    //\n\n\n    var scope = _assertThisInitialized(_this);\n\n    var STATE = {\n      NONE: -1,\n      ROTATE: 0,\n      DOLLY: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_PAN: 4,\n      TOUCH_DOLLY_PAN: 5,\n      TOUCH_DOLLY_ROTATE: 6\n    };\n    var state = STATE.NONE;\n    var EPS = 0.000001; // current position in spherical coordinates\n\n    var spherical = new Spherical();\n    var sphericalDelta = new Spherical();\n    var scale = 1;\n    var panOffset = new Vector3();\n    var zoomChanged = false;\n    var rotateStart = new Vector2();\n    var rotateEnd = new Vector2();\n    var rotateDelta = new Vector2();\n    var panStart = new Vector2();\n    var panEnd = new Vector2();\n    var panDelta = new Vector2();\n    var dollyStart = new Vector2();\n    var dollyEnd = new Vector2();\n    var dollyDelta = new Vector2();\n    var pointers = [];\n    var pointerPositions = {};\n\n    function getAutoRotationAngle() {\n      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n    }\n\n    function getZoomScale() {\n      return Math.pow(0.95, scope.zoomSpeed);\n    }\n\n    function rotateLeft(angle) {\n      sphericalDelta.theta -= angle;\n    }\n\n    function rotateUp(angle) {\n      sphericalDelta.phi -= angle;\n    }\n\n    var panLeft = function () {\n      var v = new Vector3();\n      return function panLeft(distance, objectMatrix) {\n        v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n        v.multiplyScalar(-distance);\n        panOffset.add(v);\n      };\n    }();\n\n    var panUp = function () {\n      var v = new Vector3();\n      return function panUp(distance, objectMatrix) {\n        if (scope.screenSpacePanning === true) {\n          v.setFromMatrixColumn(objectMatrix, 1);\n        } else {\n          v.setFromMatrixColumn(objectMatrix, 0);\n          v.crossVectors(scope.object.up, v);\n        }\n\n        v.multiplyScalar(distance);\n        panOffset.add(v);\n      };\n    }(); // deltaX and deltaY are in pixels; right and down are positive\n\n\n    var pan = function () {\n      var offset = new Vector3();\n      return function pan(deltaX, deltaY) {\n        var element = scope.domElement;\n\n        if (scope.object.isPerspectiveCamera) {\n          // perspective\n          var position = scope.object.position;\n          offset.copy(position).sub(scope.target);\n          var targetDistance = offset.length(); // half of the fov is center to top of screen\n\n          targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0); // we use only clientHeight here so aspect ratio does not distort speed\n\n          panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n          panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n        } else if (scope.object.isOrthographicCamera) {\n          // orthographic\n          panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n          panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n        } else {\n          // camera neither orthographic nor perspective\n          console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n          scope.enablePan = false;\n        }\n      };\n    }();\n\n    function dollyOut(dollyScale) {\n      if (scope.object.isPerspectiveCamera) {\n        scale /= dollyScale;\n      } else if (scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    }\n\n    function dollyIn(dollyScale) {\n      if (scope.object.isPerspectiveCamera) {\n        scale *= dollyScale;\n      } else if (scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    } //\n    // event callbacks - update the object state\n    //\n\n\n    function handleMouseDownRotate(event) {\n      rotateStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownDolly(event) {\n      dollyStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownPan(event) {\n      panStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseMoveRotate(event) {\n      rotateEnd.set(event.clientX, event.clientY);\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      var element = scope.domElement;\n      rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n      rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      rotateStart.copy(rotateEnd);\n      scope.update();\n    }\n\n    function handleMouseMoveDolly(event) {\n      dollyEnd.set(event.clientX, event.clientY);\n      dollyDelta.subVectors(dollyEnd, dollyStart);\n\n      if (dollyDelta.y > 0) {\n        dollyOut(getZoomScale());\n      } else if (dollyDelta.y < 0) {\n        dollyIn(getZoomScale());\n      }\n\n      dollyStart.copy(dollyEnd);\n      scope.update();\n    }\n\n    function handleMouseMovePan(event) {\n      panEnd.set(event.clientX, event.clientY);\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n      scope.update();\n    }\n\n    function handleMouseWheel(event) {\n      if (event.deltaY < 0) {\n        dollyIn(getZoomScale());\n      } else if (event.deltaY > 0) {\n        dollyOut(getZoomScale());\n      }\n\n      scope.update();\n    }\n\n    function handleKeyDown(event) {\n      var needsUpdate = false;\n\n      switch (event.code) {\n        case scope.keys.UP:\n          pan(0, scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.BOTTOM:\n          pan(0, -scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.LEFT:\n          pan(scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.RIGHT:\n          pan(-scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n\n      if (needsUpdate) {\n        // prevent the browser from scrolling on cursor keys\n        event.preventDefault();\n        scope.update();\n      }\n    }\n\n    function handleTouchStartRotate() {\n      if (pointers.length === 1) {\n        rotateStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        var x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        var y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        rotateStart.set(x, y);\n      }\n    }\n\n    function handleTouchStartPan() {\n      if (pointers.length === 1) {\n        panStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        var x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        var y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        panStart.set(x, y);\n      }\n    }\n\n    function handleTouchStartDolly() {\n      var dx = pointers[0].pageX - pointers[1].pageX;\n      var dy = pointers[0].pageY - pointers[1].pageY;\n      var distance = Math.sqrt(dx * dx + dy * dy);\n      dollyStart.set(0, distance);\n    }\n\n    function handleTouchStartDollyPan() {\n      if (scope.enableZoom) handleTouchStartDolly();\n      if (scope.enablePan) handleTouchStartPan();\n    }\n\n    function handleTouchStartDollyRotate() {\n      if (scope.enableZoom) handleTouchStartDolly();\n      if (scope.enableRotate) handleTouchStartRotate();\n    }\n\n    function handleTouchMoveRotate(event) {\n      if (pointers.length == 1) {\n        rotateEnd.set(event.pageX, event.pageY);\n      } else {\n        var position = getSecondPointerPosition(event);\n        var x = 0.5 * (event.pageX + position.x);\n        var y = 0.5 * (event.pageY + position.y);\n        rotateEnd.set(x, y);\n      }\n\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      var element = scope.domElement;\n      rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n      rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      rotateStart.copy(rotateEnd);\n    }\n\n    function handleTouchMovePan(event) {\n      if (pointers.length === 1) {\n        panEnd.set(event.pageX, event.pageY);\n      } else {\n        var position = getSecondPointerPosition(event);\n        var x = 0.5 * (event.pageX + position.x);\n        var y = 0.5 * (event.pageY + position.y);\n        panEnd.set(x, y);\n      }\n\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n    }\n\n    function handleTouchMoveDolly(event) {\n      var position = getSecondPointerPosition(event);\n      var dx = event.pageX - position.x;\n      var dy = event.pageY - position.y;\n      var distance = Math.sqrt(dx * dx + dy * dy);\n      dollyEnd.set(0, distance);\n      dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n      dollyOut(dollyDelta.y);\n      dollyStart.copy(dollyEnd);\n    }\n\n    function handleTouchMoveDollyPan(event) {\n      if (scope.enableZoom) handleTouchMoveDolly(event);\n      if (scope.enablePan) handleTouchMovePan(event);\n    }\n\n    function handleTouchMoveDollyRotate(event) {\n      if (scope.enableZoom) handleTouchMoveDolly(event);\n      if (scope.enableRotate) handleTouchMoveRotate(event);\n    } //\n    // event handlers - FSM: listen for events and reset state\n    //\n\n\n    function onPointerDown(event) {\n      if (scope.enabled === false) return;\n\n      if (pointers.length === 0) {\n        scope.domElement.setPointerCapture(event.pointerId);\n        scope.domElement.addEventListener('pointermove', onPointerMove);\n        scope.domElement.addEventListener('pointerup', onPointerUp);\n      } //\n\n\n      addPointer(event);\n\n      if (event.pointerType === 'touch') {\n        onTouchStart(event);\n      } else {\n        onMouseDown(event);\n      }\n    }\n\n    function onPointerMove(event) {\n      if (scope.enabled === false) return;\n\n      if (event.pointerType === 'touch') {\n        onTouchMove(event);\n      } else {\n        onMouseMove(event);\n      }\n    }\n\n    function onPointerUp(event) {\n      removePointer(event);\n\n      if (pointers.length === 0) {\n        scope.domElement.releasePointerCapture(event.pointerId);\n        scope.domElement.removeEventListener('pointermove', onPointerMove);\n        scope.domElement.removeEventListener('pointerup', onPointerUp);\n      }\n\n      scope.dispatchEvent(_endEvent);\n      state = STATE.NONE;\n    }\n\n    function onPointerCancel(event) {\n      removePointer(event);\n    }\n\n    function onMouseDown(event) {\n      var mouseAction;\n\n      switch (event.button) {\n        case 0:\n          mouseAction = scope.mouseButtons.LEFT;\n          break;\n\n        case 1:\n          mouseAction = scope.mouseButtons.MIDDLE;\n          break;\n\n        case 2:\n          mouseAction = scope.mouseButtons.RIGHT;\n          break;\n\n        default:\n          mouseAction = -1;\n      }\n\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (scope.enableZoom === false) return;\n          handleMouseDownDolly(event);\n          state = STATE.DOLLY;\n          break;\n\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enablePan === false) return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          } else {\n            if (scope.enableRotate === false) return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          }\n\n          break;\n\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enableRotate === false) return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          } else {\n            if (scope.enablePan === false) return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          }\n\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(_startEvent);\n      }\n    }\n\n    function onMouseMove(event) {\n      if (scope.enabled === false) return;\n\n      switch (state) {\n        case STATE.ROTATE:\n          if (scope.enableRotate === false) return;\n          handleMouseMoveRotate(event);\n          break;\n\n        case STATE.DOLLY:\n          if (scope.enableZoom === false) return;\n          handleMouseMoveDolly(event);\n          break;\n\n        case STATE.PAN:\n          if (scope.enablePan === false) return;\n          handleMouseMovePan(event);\n          break;\n      }\n    }\n\n    function onMouseWheel(event) {\n      if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE) return;\n      event.preventDefault();\n      scope.dispatchEvent(_startEvent);\n      handleMouseWheel(event);\n      scope.dispatchEvent(_endEvent);\n    }\n\n    function onKeyDown(event) {\n      if (scope.enabled === false || scope.enablePan === false) return;\n      handleKeyDown(event);\n    }\n\n    function onTouchStart(event) {\n      trackPointer(event);\n\n      switch (pointers.length) {\n        case 1:\n          switch (scope.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (scope.enableRotate === false) return;\n              handleTouchStartRotate();\n              state = STATE.TOUCH_ROTATE;\n              break;\n\n            case TOUCH.PAN:\n              if (scope.enablePan === false) return;\n              handleTouchStartPan();\n              state = STATE.TOUCH_PAN;\n              break;\n\n            default:\n              state = STATE.NONE;\n          }\n\n          break;\n\n        case 2:\n          switch (scope.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (scope.enableZoom === false && scope.enablePan === false) return;\n              handleTouchStartDollyPan();\n              state = STATE.TOUCH_DOLLY_PAN;\n              break;\n\n            case TOUCH.DOLLY_ROTATE:\n              if (scope.enableZoom === false && scope.enableRotate === false) return;\n              handleTouchStartDollyRotate();\n              state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n\n            default:\n              state = STATE.NONE;\n          }\n\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(_startEvent);\n      }\n    }\n\n    function onTouchMove(event) {\n      trackPointer(event);\n\n      switch (state) {\n        case STATE.TOUCH_ROTATE:\n          if (scope.enableRotate === false) return;\n          handleTouchMoveRotate(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_PAN:\n          if (scope.enablePan === false) return;\n          handleTouchMovePan(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_PAN:\n          if (scope.enableZoom === false && scope.enablePan === false) return;\n          handleTouchMoveDollyPan(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (scope.enableZoom === false && scope.enableRotate === false) return;\n          handleTouchMoveDollyRotate(event);\n          scope.update();\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n    }\n\n    function onContextMenu(event) {\n      if (scope.enabled === false) return;\n      event.preventDefault();\n    }\n\n    function addPointer(event) {\n      pointers.push(event);\n    }\n\n    function removePointer(event) {\n      delete pointerPositions[event.pointerId];\n\n      for (var i = 0; i < pointers.length; i++) {\n        if (pointers[i].pointerId == event.pointerId) {\n          pointers.splice(i, 1);\n          return;\n        }\n      }\n    }\n\n    function trackPointer(event) {\n      var position = pointerPositions[event.pointerId];\n\n      if (position === undefined) {\n        position = new Vector2();\n        pointerPositions[event.pointerId] = position;\n      }\n\n      position.set(event.pageX, event.pageY);\n    }\n\n    function getSecondPointerPosition(event) {\n      var pointer = event.pointerId === pointers[0].pointerId ? pointers[1] : pointers[0];\n      return pointerPositions[pointer.pointerId];\n    } //\n\n\n    scope.domElement.addEventListener('contextmenu', onContextMenu);\n    scope.domElement.addEventListener('pointerdown', onPointerDown);\n    scope.domElement.addEventListener('pointercancel', onPointerCancel);\n    scope.domElement.addEventListener('wheel', onMouseWheel, {\n      passive: false\n    }); // force an update at start\n\n    _this.update();\n\n    return _this;\n  }\n\n  return _createClass(OrbitControls);\n}(EventDispatcher); // This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\n\nvar MapControls = /*#__PURE__*/function (_OrbitControls) {\n  _inherits(MapControls, _OrbitControls);\n\n  var _super2 = _createSuper(MapControls);\n\n  function MapControls(object, domElement) {\n    var _this2;\n\n    _classCallCheck(this, MapControls);\n\n    _this2 = _super2.call(this, object, domElement);\n    _this2.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n    _this2.mouseButtons.LEFT = MOUSE.PAN;\n    _this2.mouseButtons.RIGHT = MOUSE.ROTATE;\n    _this2.touches.ONE = TOUCH.PAN;\n    _this2.touches.TWO = TOUCH.DOLLY_ROTATE;\n    return _this2;\n  }\n\n  return _createClass(MapControls);\n}(OrbitControls);\n\nexport { OrbitControls, MapControls };","/**\n * The Ease class provides a collection of easing functions for use with tween.js.\n */\nvar Easing = {\n  Linear: {\n    None: function None(amount) {\n      return amount;\n    }\n  },\n  Quadratic: {\n    In: function In(amount) {\n      return amount * amount;\n    },\n    Out: function Out(amount) {\n      return amount * (2 - amount);\n    },\n    InOut: function InOut(amount) {\n      if ((amount *= 2) < 1) {\n        return 0.5 * amount * amount;\n      }\n\n      return -0.5 * (--amount * (amount - 2) - 1);\n    }\n  },\n  Cubic: {\n    In: function In(amount) {\n      return amount * amount * amount;\n    },\n    Out: function Out(amount) {\n      return --amount * amount * amount + 1;\n    },\n    InOut: function InOut(amount) {\n      if ((amount *= 2) < 1) {\n        return 0.5 * amount * amount * amount;\n      }\n\n      return 0.5 * ((amount -= 2) * amount * amount + 2);\n    }\n  },\n  Quartic: {\n    In: function In(amount) {\n      return amount * amount * amount * amount;\n    },\n    Out: function Out(amount) {\n      return 1 - --amount * amount * amount * amount;\n    },\n    InOut: function InOut(amount) {\n      if ((amount *= 2) < 1) {\n        return 0.5 * amount * amount * amount * amount;\n      }\n\n      return -0.5 * ((amount -= 2) * amount * amount * amount - 2);\n    }\n  },\n  Quintic: {\n    In: function In(amount) {\n      return amount * amount * amount * amount * amount;\n    },\n    Out: function Out(amount) {\n      return --amount * amount * amount * amount * amount + 1;\n    },\n    InOut: function InOut(amount) {\n      if ((amount *= 2) < 1) {\n        return 0.5 * amount * amount * amount * amount * amount;\n      }\n\n      return 0.5 * ((amount -= 2) * amount * amount * amount * amount + 2);\n    }\n  },\n  Sinusoidal: {\n    In: function In(amount) {\n      return 1 - Math.cos(amount * Math.PI / 2);\n    },\n    Out: function Out(amount) {\n      return Math.sin(amount * Math.PI / 2);\n    },\n    InOut: function InOut(amount) {\n      return 0.5 * (1 - Math.cos(Math.PI * amount));\n    }\n  },\n  Exponential: {\n    In: function In(amount) {\n      return amount === 0 ? 0 : Math.pow(1024, amount - 1);\n    },\n    Out: function Out(amount) {\n      return amount === 1 ? 1 : 1 - Math.pow(2, -10 * amount);\n    },\n    InOut: function InOut(amount) {\n      if (amount === 0) {\n        return 0;\n      }\n\n      if (amount === 1) {\n        return 1;\n      }\n\n      if ((amount *= 2) < 1) {\n        return 0.5 * Math.pow(1024, amount - 1);\n      }\n\n      return 0.5 * (-Math.pow(2, -10 * (amount - 1)) + 2);\n    }\n  },\n  Circular: {\n    In: function In(amount) {\n      return 1 - Math.sqrt(1 - amount * amount);\n    },\n    Out: function Out(amount) {\n      return Math.sqrt(1 - --amount * amount);\n    },\n    InOut: function InOut(amount) {\n      if ((amount *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - amount * amount) - 1);\n      }\n\n      return 0.5 * (Math.sqrt(1 - (amount -= 2) * amount) + 1);\n    }\n  },\n  Elastic: {\n    In: function In(amount) {\n      if (amount === 0) {\n        return 0;\n      }\n\n      if (amount === 1) {\n        return 1;\n      }\n\n      return -Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n    },\n    Out: function Out(amount) {\n      if (amount === 0) {\n        return 0;\n      }\n\n      if (amount === 1) {\n        return 1;\n      }\n\n      return Math.pow(2, -10 * amount) * Math.sin((amount - 0.1) * 5 * Math.PI) + 1;\n    },\n    InOut: function InOut(amount) {\n      if (amount === 0) {\n        return 0;\n      }\n\n      if (amount === 1) {\n        return 1;\n      }\n\n      amount *= 2;\n\n      if (amount < 1) {\n        return -0.5 * Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n      }\n\n      return 0.5 * Math.pow(2, -10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI) + 1;\n    }\n  },\n  Back: {\n    In: function In(amount) {\n      var s = 1.70158;\n      return amount * amount * ((s + 1) * amount - s);\n    },\n    Out: function Out(amount) {\n      var s = 1.70158;\n      return --amount * amount * ((s + 1) * amount + s) + 1;\n    },\n    InOut: function InOut(amount) {\n      var s = 1.70158 * 1.525;\n\n      if ((amount *= 2) < 1) {\n        return 0.5 * (amount * amount * ((s + 1) * amount - s));\n      }\n\n      return 0.5 * ((amount -= 2) * amount * ((s + 1) * amount + s) + 2);\n    }\n  },\n  Bounce: {\n    In: function In(amount) {\n      return 1 - Easing.Bounce.Out(1 - amount);\n    },\n    Out: function Out(amount) {\n      if (amount < 1 / 2.75) {\n        return 7.5625 * amount * amount;\n      } else if (amount < 2 / 2.75) {\n        return 7.5625 * (amount -= 1.5 / 2.75) * amount + 0.75;\n      } else if (amount < 2.5 / 2.75) {\n        return 7.5625 * (amount -= 2.25 / 2.75) * amount + 0.9375;\n      } else {\n        return 7.5625 * (amount -= 2.625 / 2.75) * amount + 0.984375;\n      }\n    },\n    InOut: function InOut(amount) {\n      if (amount < 0.5) {\n        return Easing.Bounce.In(amount * 2) * 0.5;\n      }\n\n      return Easing.Bounce.Out(amount * 2 - 1) * 0.5 + 0.5;\n    }\n  }\n};\nvar now; // Include a performance.now polyfill.\n// In node.js, use process.hrtime.\n// eslint-disable-next-line\n// @ts-ignore\n\nif (typeof self === 'undefined' && typeof process !== 'undefined' && process.hrtime) {\n  now = function now() {\n    // eslint-disable-next-line\n    // @ts-ignore\n    var time = process.hrtime(); // Convert [seconds, nanoseconds] to milliseconds.\n\n    return time[0] * 1000 + time[1] / 1000000;\n  };\n} // In a browser, use self.performance.now if it is available.\nelse if (typeof self !== 'undefined' && self.performance !== undefined && self.performance.now !== undefined) {\n  // This must be bound, because directly assigning this function\n  // leads to an invocation exception in Chrome.\n  now = self.performance.now.bind(self.performance);\n} // Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n  now = Date.now;\n} // Otherwise, use 'new Date().getTime()'.\nelse {\n  now = function now() {\n    return new Date().getTime();\n  };\n}\n\nvar now$1 = now;\n/**\n * Controlling groups of tweens\n *\n * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\n * In these cases, you may want to create your own smaller groups of tween\n */\n\nvar Group =\n/** @class */\nfunction () {\n  function Group() {\n    this._tweens = {};\n    this._tweensAddedDuringUpdate = {};\n  }\n\n  Group.prototype.getAll = function () {\n    var _this = this;\n\n    return Object.keys(this._tweens).map(function (tweenId) {\n      return _this._tweens[tweenId];\n    });\n  };\n\n  Group.prototype.removeAll = function () {\n    this._tweens = {};\n  };\n\n  Group.prototype.add = function (tween) {\n    this._tweens[tween.getId()] = tween;\n    this._tweensAddedDuringUpdate[tween.getId()] = tween;\n  };\n\n  Group.prototype.remove = function (tween) {\n    delete this._tweens[tween.getId()];\n    delete this._tweensAddedDuringUpdate[tween.getId()];\n  };\n\n  Group.prototype.update = function (time, preserve) {\n    if (time === void 0) {\n      time = now$1();\n    }\n\n    if (preserve === void 0) {\n      preserve = false;\n    }\n\n    var tweenIds = Object.keys(this._tweens);\n\n    if (tweenIds.length === 0) {\n      return false;\n    } // Tweens are updated in \"batches\". If you add a new tween during an\n    // update, then the new tween will be updated in the next batch.\n    // If you remove a tween during an update, it may or may not be updated.\n    // However, if the removed tween was added during the current batch,\n    // then it will not be updated.\n\n\n    while (tweenIds.length > 0) {\n      this._tweensAddedDuringUpdate = {};\n\n      for (var i = 0; i < tweenIds.length; i++) {\n        var tween = this._tweens[tweenIds[i]];\n        var autoStart = !preserve;\n\n        if (tween && tween.update(time, autoStart) === false && !preserve) {\n          delete this._tweens[tweenIds[i]];\n        }\n      }\n\n      tweenIds = Object.keys(this._tweensAddedDuringUpdate);\n    }\n\n    return true;\n  };\n\n  return Group;\n}();\n/**\n *\n */\n\n\nvar Interpolation = {\n  Linear: function Linear(v, k) {\n    var m = v.length - 1;\n    var f = m * k;\n    var i = Math.floor(f);\n    var fn = Interpolation.Utils.Linear;\n\n    if (k < 0) {\n      return fn(v[0], v[1], f);\n    }\n\n    if (k > 1) {\n      return fn(v[m], v[m - 1], m - f);\n    }\n\n    return fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n  },\n  Bezier: function Bezier(v, k) {\n    var b = 0;\n    var n = v.length - 1;\n    var pw = Math.pow;\n    var bn = Interpolation.Utils.Bernstein;\n\n    for (var i = 0; i <= n; i++) {\n      b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n    }\n\n    return b;\n  },\n  CatmullRom: function CatmullRom(v, k) {\n    var m = v.length - 1;\n    var f = m * k;\n    var i = Math.floor(f);\n    var fn = Interpolation.Utils.CatmullRom;\n\n    if (v[0] === v[m]) {\n      if (k < 0) {\n        i = Math.floor(f = m * (1 + k));\n      }\n\n      return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n    } else {\n      if (k < 0) {\n        return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n      }\n\n      if (k > 1) {\n        return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n      }\n\n      return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n    }\n  },\n  Utils: {\n    Linear: function Linear(p0, p1, t) {\n      return (p1 - p0) * t + p0;\n    },\n    Bernstein: function Bernstein(n, i) {\n      var fc = Interpolation.Utils.Factorial;\n      return fc(n) / fc(i) / fc(n - i);\n    },\n    Factorial: function () {\n      var a = [1];\n      return function (n) {\n        var s = 1;\n\n        if (a[n]) {\n          return a[n];\n        }\n\n        for (var i = n; i > 1; i--) {\n          s *= i;\n        }\n\n        a[n] = s;\n        return s;\n      };\n    }(),\n    CatmullRom: function CatmullRom(p0, p1, p2, p3, t) {\n      var v0 = (p2 - p0) * 0.5;\n      var v1 = (p3 - p1) * 0.5;\n      var t2 = t * t;\n      var t3 = t * t2;\n      return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n    }\n  }\n};\n/**\n * Utils\n */\n\nvar Sequence =\n/** @class */\nfunction () {\n  function Sequence() {}\n\n  Sequence.nextId = function () {\n    return Sequence._nextId++;\n  };\n\n  Sequence._nextId = 0;\n  return Sequence;\n}();\n\nvar mainGroup = new Group();\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\nvar Tween =\n/** @class */\nfunction () {\n  function Tween(_object, _group) {\n    if (_group === void 0) {\n      _group = mainGroup;\n    }\n\n    this._object = _object;\n    this._group = _group;\n    this._isPaused = false;\n    this._pauseStart = 0;\n    this._valuesStart = {};\n    this._valuesEnd = {};\n    this._valuesStartRepeat = {};\n    this._duration = 1000;\n    this._initialRepeat = 0;\n    this._repeat = 0;\n    this._yoyo = false;\n    this._isPlaying = false;\n    this._reversed = false;\n    this._delayTime = 0;\n    this._startTime = 0;\n    this._easingFunction = Easing.Linear.None;\n    this._interpolationFunction = Interpolation.Linear;\n    this._chainedTweens = [];\n    this._onStartCallbackFired = false;\n    this._id = Sequence.nextId();\n    this._isChainStopped = false;\n    this._goToEnd = false;\n  }\n\n  Tween.prototype.getId = function () {\n    return this._id;\n  };\n\n  Tween.prototype.isPlaying = function () {\n    return this._isPlaying;\n  };\n\n  Tween.prototype.isPaused = function () {\n    return this._isPaused;\n  };\n\n  Tween.prototype.to = function (properties, duration) {\n    // TODO? restore this, then update the 07_dynamic_to example to set fox\n    // tween's to on each update. That way the behavior is opt-in (there's\n    // currently no opt-out).\n    // for (const prop in properties) this._valuesEnd[prop] = properties[prop]\n    this._valuesEnd = Object.create(properties);\n\n    if (duration !== undefined) {\n      this._duration = duration;\n    }\n\n    return this;\n  };\n\n  Tween.prototype.duration = function (d) {\n    this._duration = d;\n    return this;\n  };\n\n  Tween.prototype.start = function (time) {\n    if (this._isPlaying) {\n      return this;\n    } // eslint-disable-next-line\n\n\n    this._group && this._group.add(this);\n    this._repeat = this._initialRepeat;\n\n    if (this._reversed) {\n      // If we were reversed (f.e. using the yoyo feature) then we need to\n      // flip the tween direction back to forward.\n      this._reversed = false;\n\n      for (var property in this._valuesStartRepeat) {\n        this._swapEndStartRepeatValues(property);\n\n        this._valuesStart[property] = this._valuesStartRepeat[property];\n      }\n    }\n\n    this._isPlaying = true;\n    this._isPaused = false;\n    this._onStartCallbackFired = false;\n    this._isChainStopped = false;\n    this._startTime = time !== undefined ? typeof time === 'string' ? now$1() + parseFloat(time) : time : now$1();\n    this._startTime += this._delayTime;\n\n    this._setupProperties(this._object, this._valuesStart, this._valuesEnd, this._valuesStartRepeat);\n\n    return this;\n  };\n\n  Tween.prototype._setupProperties = function (_object, _valuesStart, _valuesEnd, _valuesStartRepeat) {\n    for (var property in _valuesEnd) {\n      var startValue = _object[property];\n      var startValueIsArray = Array.isArray(startValue);\n      var propType = startValueIsArray ? 'array' : typeof startValue;\n      var isInterpolationList = !startValueIsArray && Array.isArray(_valuesEnd[property]); // If `to()` specifies a property that doesn't exist in the source object,\n      // we should not set that property in the object\n\n      if (propType === 'undefined' || propType === 'function') {\n        continue;\n      } // Check if an Array was provided as property value\n\n\n      if (isInterpolationList) {\n        var endValues = _valuesEnd[property];\n\n        if (endValues.length === 0) {\n          continue;\n        } // handle an array of relative values\n\n\n        endValues = endValues.map(this._handleRelativeValue.bind(this, startValue)); // Create a local copy of the Array with the start value at the front\n\n        _valuesEnd[property] = [startValue].concat(endValues);\n      } // handle the deepness of the values\n\n\n      if ((propType === 'object' || startValueIsArray) && startValue && !isInterpolationList) {\n        _valuesStart[property] = startValueIsArray ? [] : {}; // eslint-disable-next-line\n\n        for (var prop in startValue) {\n          // eslint-disable-next-line\n          // @ts-ignore FIXME?\n          _valuesStart[property][prop] = startValue[prop];\n        }\n\n        _valuesStartRepeat[property] = startValueIsArray ? [] : {}; // TODO? repeat nested values? And yoyo? And array values?\n        // eslint-disable-next-line\n        // @ts-ignore FIXME?\n\n        this._setupProperties(startValue, _valuesStart[property], _valuesEnd[property], _valuesStartRepeat[property]);\n      } else {\n        // Save the starting value, but only once.\n        if (typeof _valuesStart[property] === 'undefined') {\n          _valuesStart[property] = startValue;\n        }\n\n        if (!startValueIsArray) {\n          // eslint-disable-next-line\n          // @ts-ignore FIXME?\n          _valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n        }\n\n        if (isInterpolationList) {\n          // eslint-disable-next-line\n          // @ts-ignore FIXME?\n          _valuesStartRepeat[property] = _valuesEnd[property].slice().reverse();\n        } else {\n          _valuesStartRepeat[property] = _valuesStart[property] || 0;\n        }\n      }\n    }\n  };\n\n  Tween.prototype.stop = function () {\n    if (!this._isChainStopped) {\n      this._isChainStopped = true;\n      this.stopChainedTweens();\n    }\n\n    if (!this._isPlaying) {\n      return this;\n    } // eslint-disable-next-line\n\n\n    this._group && this._group.remove(this);\n    this._isPlaying = false;\n    this._isPaused = false;\n\n    if (this._onStopCallback) {\n      this._onStopCallback(this._object);\n    }\n\n    return this;\n  };\n\n  Tween.prototype.end = function () {\n    this._goToEnd = true;\n    this.update(Infinity);\n    return this;\n  };\n\n  Tween.prototype.pause = function (time) {\n    if (time === void 0) {\n      time = now$1();\n    }\n\n    if (this._isPaused || !this._isPlaying) {\n      return this;\n    }\n\n    this._isPaused = true;\n    this._pauseStart = time; // eslint-disable-next-line\n\n    this._group && this._group.remove(this);\n    return this;\n  };\n\n  Tween.prototype.resume = function (time) {\n    if (time === void 0) {\n      time = now$1();\n    }\n\n    if (!this._isPaused || !this._isPlaying) {\n      return this;\n    }\n\n    this._isPaused = false;\n    this._startTime += time - this._pauseStart;\n    this._pauseStart = 0; // eslint-disable-next-line\n\n    this._group && this._group.add(this);\n    return this;\n  };\n\n  Tween.prototype.stopChainedTweens = function () {\n    for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n      this._chainedTweens[i].stop();\n    }\n\n    return this;\n  };\n\n  Tween.prototype.group = function (group) {\n    this._group = group;\n    return this;\n  };\n\n  Tween.prototype.delay = function (amount) {\n    this._delayTime = amount;\n    return this;\n  };\n\n  Tween.prototype.repeat = function (times) {\n    this._initialRepeat = times;\n    this._repeat = times;\n    return this;\n  };\n\n  Tween.prototype.repeatDelay = function (amount) {\n    this._repeatDelayTime = amount;\n    return this;\n  };\n\n  Tween.prototype.yoyo = function (yoyo) {\n    this._yoyo = yoyo;\n    return this;\n  };\n\n  Tween.prototype.easing = function (easingFunction) {\n    this._easingFunction = easingFunction;\n    return this;\n  };\n\n  Tween.prototype.interpolation = function (interpolationFunction) {\n    this._interpolationFunction = interpolationFunction;\n    return this;\n  };\n\n  Tween.prototype.chain = function () {\n    var tweens = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      tweens[_i] = arguments[_i];\n    }\n\n    this._chainedTweens = tweens;\n    return this;\n  };\n\n  Tween.prototype.onStart = function (callback) {\n    this._onStartCallback = callback;\n    return this;\n  };\n\n  Tween.prototype.onUpdate = function (callback) {\n    this._onUpdateCallback = callback;\n    return this;\n  };\n\n  Tween.prototype.onRepeat = function (callback) {\n    this._onRepeatCallback = callback;\n    return this;\n  };\n\n  Tween.prototype.onComplete = function (callback) {\n    this._onCompleteCallback = callback;\n    return this;\n  };\n\n  Tween.prototype.onStop = function (callback) {\n    this._onStopCallback = callback;\n    return this;\n  };\n  /**\n   * @returns true if the tween is still playing after the update, false\n   * otherwise (calling update on a paused tween still returns true because\n   * it is still playing, just paused).\n   */\n\n\n  Tween.prototype.update = function (time, autoStart) {\n    if (time === void 0) {\n      time = now$1();\n    }\n\n    if (autoStart === void 0) {\n      autoStart = true;\n    }\n\n    if (this._isPaused) return true;\n    var property;\n    var elapsed;\n    var endTime = this._startTime + this._duration;\n\n    if (!this._goToEnd && !this._isPlaying) {\n      if (time > endTime) return false;\n      if (autoStart) this.start(time);\n    }\n\n    this._goToEnd = false;\n\n    if (time < this._startTime) {\n      return true;\n    }\n\n    if (this._onStartCallbackFired === false) {\n      if (this._onStartCallback) {\n        this._onStartCallback(this._object);\n      }\n\n      this._onStartCallbackFired = true;\n    }\n\n    elapsed = (time - this._startTime) / this._duration;\n    elapsed = this._duration === 0 || elapsed > 1 ? 1 : elapsed;\n\n    var value = this._easingFunction(elapsed); // properties transformations\n\n\n    this._updateProperties(this._object, this._valuesStart, this._valuesEnd, value);\n\n    if (this._onUpdateCallback) {\n      this._onUpdateCallback(this._object, elapsed);\n    }\n\n    if (elapsed === 1) {\n      if (this._repeat > 0) {\n        if (isFinite(this._repeat)) {\n          this._repeat--;\n        } // Reassign starting values, restart by making startTime = now\n\n\n        for (property in this._valuesStartRepeat) {\n          if (!this._yoyo && typeof this._valuesEnd[property] === 'string') {\n            this._valuesStartRepeat[property] = // eslint-disable-next-line\n            // @ts-ignore FIXME?\n            this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n          }\n\n          if (this._yoyo) {\n            this._swapEndStartRepeatValues(property);\n          }\n\n          this._valuesStart[property] = this._valuesStartRepeat[property];\n        }\n\n        if (this._yoyo) {\n          this._reversed = !this._reversed;\n        }\n\n        if (this._repeatDelayTime !== undefined) {\n          this._startTime = time + this._repeatDelayTime;\n        } else {\n          this._startTime = time + this._delayTime;\n        }\n\n        if (this._onRepeatCallback) {\n          this._onRepeatCallback(this._object);\n        }\n\n        return true;\n      } else {\n        if (this._onCompleteCallback) {\n          this._onCompleteCallback(this._object);\n        }\n\n        for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n          // Make the chained tweens start exactly at the time they should,\n          // even if the `update()` method was called way past the duration of the tween\n          this._chainedTweens[i].start(this._startTime + this._duration);\n        }\n\n        this._isPlaying = false;\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  Tween.prototype._updateProperties = function (_object, _valuesStart, _valuesEnd, value) {\n    for (var property in _valuesEnd) {\n      // Don't update properties that do not exist in the source object\n      if (_valuesStart[property] === undefined) {\n        continue;\n      }\n\n      var start = _valuesStart[property] || 0;\n      var end = _valuesEnd[property];\n      var startIsArray = Array.isArray(_object[property]);\n      var endIsArray = Array.isArray(end);\n      var isInterpolationList = !startIsArray && endIsArray;\n\n      if (isInterpolationList) {\n        _object[property] = this._interpolationFunction(end, value);\n      } else if (typeof end === 'object' && end) {\n        // eslint-disable-next-line\n        // @ts-ignore FIXME?\n        this._updateProperties(_object[property], start, end, value);\n      } else {\n        // Parses relative end values with start as base (e.g.: +10, -3)\n        end = this._handleRelativeValue(start, end); // Protect against non numeric properties.\n\n        if (typeof end === 'number') {\n          // eslint-disable-next-line\n          // @ts-ignore FIXME?\n          _object[property] = start + (end - start) * value;\n        }\n      }\n    }\n  };\n\n  Tween.prototype._handleRelativeValue = function (start, end) {\n    if (typeof end !== 'string') {\n      return end;\n    }\n\n    if (end.charAt(0) === '+' || end.charAt(0) === '-') {\n      return start + parseFloat(end);\n    } else {\n      return parseFloat(end);\n    }\n  };\n\n  Tween.prototype._swapEndStartRepeatValues = function (property) {\n    var tmp = this._valuesStartRepeat[property];\n    var endValue = this._valuesEnd[property];\n\n    if (typeof endValue === 'string') {\n      this._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(endValue);\n    } else {\n      this._valuesStartRepeat[property] = this._valuesEnd[property];\n    }\n\n    this._valuesEnd[property] = tmp;\n  };\n\n  return Tween;\n}();\n\nvar VERSION = '18.6.4';\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\nvar nextId = Sequence.nextId;\n/**\n * Controlling groups of tweens\n *\n * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\n * In these cases, you may want to create your own smaller groups of tweens.\n */\n\nvar TWEEN = mainGroup; // This is the best way to export things in a way that's compatible with both ES\n// Modules and CommonJS, without build hacks, and so as not to break the\n// existing API.\n// https://github.com/rollup/rollup/issues/1961#issuecomment-423037881\n\nvar getAll = TWEEN.getAll.bind(TWEEN);\nvar removeAll = TWEEN.removeAll.bind(TWEEN);\nvar add = TWEEN.add.bind(TWEEN);\nvar remove = TWEEN.remove.bind(TWEEN);\nvar update = TWEEN.update.bind(TWEEN);\nvar exports = {\n  Easing: Easing,\n  Group: Group,\n  Interpolation: Interpolation,\n  now: now$1,\n  Sequence: Sequence,\n  nextId: nextId,\n  Tween: Tween,\n  VERSION: VERSION,\n  getAll: getAll,\n  removeAll: removeAll,\n  add: add,\n  remove: remove,\n  update: update\n};\nexport default exports;\nexport { Easing, Group, Interpolation, Sequence, Tween, VERSION, add, getAll, nextId, now$1 as now, remove, removeAll, update };","import * as React from \"react\"\r\nimport { Link, graphql, useStaticQuery } from \"gatsby\"\r\nimport { StaticImage } from \"gatsby-plugin-image\"\r\nimport BackgroundImage from 'gatsby-background-image'\r\n\r\nimport Layout from \"../components/layout\"\r\nimport FullScreenSection from \"../components/full-screen-section\"\r\nimport Seo from \"../components/seo\"\r\n\r\nimport styled from 'styled-components'\r\n\r\nimport * as THREE from \"three\";\r\n\r\nimport { Suspense , useRef, useState, useMemo, useEffect } from 'react';\r\n\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\n// import { LightShadow } from \"three/src/lights/LightShadow\";\r\n\r\n// const TWEEN = require('@tweenjs/tween.js');\r\n\r\nimport * as TWEEN from \"@tweenjs/tween.js\";\r\n\r\nconst ThreePage = () => {\r\n\r\n  const data = useStaticQuery(\r\n    graphql`\r\n      query {\r\n        bg1:\r\n\r\n        file(relativePath: { eq: \"pointcloud.jpg\" }) {\r\n          childImageSharp {\r\n            fluid(quality: 90, maxWidth: 1920) {\r\n              ...GatsbyImageSharpFluid_noBase64\r\n            }\r\n          }\r\n        }\r\n\r\n        bg2:\r\n        file(relativePath: { eq: \"obj.jpg\" }) {\r\n          childImageSharp {\r\n            fluid(quality: 90, maxWidth: 1920) {\r\n              ...GatsbyImageSharpFluid_noBase64\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n    `\r\n  )\r\n\r\n  const bg1 = data.bg1.childImageSharp.fluid\r\n  const bg2 = data.bg2.childImageSharp.fluid\r\n\r\nconst Vis = () => {\r\n\r\n  const { useRef, useEffect, useState } = React\r\n  const mount = useRef(null)\r\n  const [isAnimating, setAnimating] = useState(true)\r\n  // const controls = useRef(null)\r\n  \r\n  useEffect(() => {\r\n\r\n    let width = window.innerWidth;\r\n    let height = window.innerHeight;\r\n    let frameId;\r\n\r\n    let arrow;\r\n\r\n    const scene = new THREE.Scene()\r\n    const camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000)\r\n    \r\n    const renderer = new THREE.WebGLRenderer({ antialias: true });\r\n\r\n    const raycaster = new THREE.Raycaster();\r\n    const pointer = new THREE.Vector2();    \r\n\r\n    // const light = new THREE.PointLight(0xFFFFFF);\r\n    const light = new THREE.AmbientLight(0xFFFFFF, 0.75);\r\n    light.position.x = 0;\r\n    light.position.y = 4;\r\n    light.position.z = 0;\r\n    scene.add(light);\r\n\r\n    // renderer.shadowMap.enabled = true;\r\n    // renderer.shadowMap.type = THREE.PCFShadowMap;\r\n\r\n    // light.castShadow = true;\r\n    // light.shadow = new THREE.LightShadow( new THREE.PerspectiveCamera( 50, 1, 10, 2500 ) );\r\n    // light.shadow.bias = 0.0001;\r\n    // light.shadow.mapSize.width = 2048;\r\n    // light.shadow.mapSize.height = 1024;    \r\n\r\n    \r\n    const controls = new OrbitControls( camera, renderer.domElement );\r\n\r\n    const loader = new GLTFLoader();\r\n\r\n    loader.load(\r\n      // resource URL\r\n      '/3dcdll_texturas_1024.glb',\r\n      // called when the resource is loaded\r\n      function ( gltf ) {\r\n\r\n        // console.dir(gltf);\r\n\r\n        scene.add( gltf.scene );\r\n\r\n        // gltf.animations; // Array<THREE.AnimationClip>\r\n        // gltf.scene; // THREE.Group\r\n        // gltf.scenes; // Array<THREE.Group>\r\n        // gltf.cameras; // Array<THREE.Camera>\r\n        // gltf.asset; // Object\r\n\r\n      },\r\n      // called while loading is progressing\r\n      function ( xhr ) {\r\n\r\n        // console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );\r\n\r\n      },\r\n      // called when loading has errors\r\n      function ( error ) {\r\n\r\n        console.log( 'An error happened' );\r\n\r\n      }\r\n    );\r\n\r\n    loader.load('/camaras.glb', function (gltf) {\r\n      // scene.add( gltf.scene );\r\n      gltf.cameras.forEach(camera => {\r\n        console.dir(camera);\r\n        scene.add(camera);\r\n      })\r\n    });\r\n\r\n    const geometry = new THREE.PlaneGeometry( 1, 2 );\r\n    const material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\r\n    const plane = new THREE.Mesh( geometry, material );\r\n    \r\n    plane.rotation.y = Math.PI / 2;\r\n    plane.position.x = 20;\r\n    plane.position.z = -10;\r\n    plane.position.y = 1;\r\n    plane.name = 'walk1';\r\n    scene.add( plane );    \r\n\r\n    camera.position.z = 4\r\n\r\n    controls.update();\r\n    \r\n    // scene.add(cube)\r\n    renderer.setClearColor('#FFFFFF')\r\n    renderer.setSize(width, height)\r\n\r\n    const raycast = (e) => {\r\n\r\n\r\n\r\n      //1. sets the mouse position with a coordinate system where the center\r\n      //   of the screen is the origin\r\n      pointer.x = ( e.clientX / window.innerWidth ) * 2 - 1;\r\n      pointer.y = - ( e.clientY / window.innerHeight ) * 2 + 1;\r\n\r\n      //2. set the picking ray from the camera position and mouse coordinates\r\n      raycaster.setFromCamera( pointer, camera );    \r\n\r\n      //3. compute intersections\r\n      var intersects = raycaster.intersectObjects( scene.children, true );\r\n\r\n      for ( var i = 0; i < intersects.length; i++ ) {\r\n          // console.log(intersects[i])\r\n          if (intersects[ i ].object.name == 'walk1') {\r\n            // controls.disable();\r\n            console.log('click');\r\n\r\n            var persp3 = scene.getObjectByName( \"persp3_Orientation\" );\r\n            var persp1 = scene.getObjectByName( \"persp1_Orientation\" );\r\n\r\n            console.dir(persp3)\r\n\r\n            intersects[ i ].object.material.color.set( 0xff0000 );\r\n            cameraToMarker(persp1);\r\n          }\r\n\r\n\r\n          /*\r\n              An intersection has the following properties :\r\n                  - object : intersected object (THREE.Mesh)\r\n                  - distance : distance from camera to intersection (number)\r\n                  - face : intersected face (THREE.Face3)\r\n                  - faceIndex : intersected face index (number)\r\n                  - point : intersection point (THREE.Vector3)\r\n                  - uv : intersection point in the object's UV coordinates (THREE.Vector2)\r\n          */\r\n      }\r\n    }\r\n\r\n    const cameraToMarker = (marker) => {\r\n\r\n      const currentCamPosition = {x: camera.position.x, y: camera.position.y, z: camera.position.z};      \r\n      const storedMarkerPosition = new THREE.Vector3(marker.position.x, marker.position.y, marker.position.z);\r\n      const newCameraTarget = getNewPointOnVector(currentCamPosition, storedMarkerPosition);\r\n      const markerPosition = new THREE.Vector3(...Object.values(newCameraTarget));\r\n      const startRotation = new THREE.Euler().copy(camera.rotation);\r\n      camera.lookAt(storedMarkerPosition);\r\n      const endRotation = new THREE.Euler().copy(camera.rotation);\r\n      camera.rotation.copy(startRotation);\r\n      new TWEEN.Tween(camera.rotation)\r\n        .to(\r\n          {\r\n            x: endRotation.x,\r\n            y: endRotation.y,\r\n            z: endRotation.z,\r\n          }, 500)\r\n        .easing(TWEEN.Easing.Quadratic.InOut)\r\n        .onComplete(() => {\r\n          new TWEEN.Tween(camera.position)\r\n            .to({\r\n              x: marker.position.x,\r\n              y: marker.position.y,\r\n              z: marker.position.z,\r\n            })\r\n            .easing(TWEEN.Easing.Quadratic.InOut)\r\n            .onUpdate(() => {\r\n              camera.lookAt(storedMarkerPosition);\r\n            })\r\n            .onComplete(() => {\r\n              camera.lookAt(storedMarkerPosition);\r\n              let radius = Math.hypot(...Object.values(markerPosition));\r\n              let phi = Math.acos(markerPosition.y / radius);\r\n              let theta = Math.atan2(markerPosition.z, markerPosition.x);\r\n              let lon = THREE.Math.radToDeg(theta);\r\n              let lat = 90 - THREE.Math.radToDeg(phi);\r\n            })\r\n            .start();\r\n        })\r\n        .start();\r\n    }  \r\n\r\n    const getNewPointOnVector = (p1, p2) => {\r\n      let distAway = 200;\r\n      let vector = {x: p2.x - p1.x, y: p2.y - p1.y, z:p2.z - p1.z};\r\n      let vl = Math.sqrt(Math.pow(vector.x, 2) + Math.pow(vector.y, 2) + Math.pow(vector.z, 2));\r\n      let vectorLength = {x: vector.x/vl, y: vector.y/vl, z: vector.z/vl};\r\n      let v = {x: distAway * vectorLength.x, y: distAway * vectorLength.y, z: distAway * vectorLength.z};\r\n      return {x: p2.x + v.x, y: p2.y + v.y, z: p2.z + v.z};\r\n    }  \r\n\r\n    const renderScene = () => {\r\n      renderer.render(scene, camera)\r\n    }\r\n\r\n    const flyTo = () => {\r\n\r\n    }\r\n\r\n    const handleResize = () => {\r\n      width = mount.current.clientWidth\r\n      height = mount.current.clientHeight\r\n      renderer.setSize(width, height)\r\n      camera.aspect = width / height\r\n      camera.updateProjectionMatrix()\r\n      renderScene()\r\n    }\r\n    \r\n    const animate = (time) => {\r\n      // cube.rotation.x += 0.01\r\n      // cube.rotation.y += 0.01\r\n\r\n      renderScene()\r\n      frameId = window.requestAnimationFrame(animate);\r\n      TWEEN.update(time)\r\n      \r\n    }\r\n\r\n    const start = () => {\r\n      window.addEventListener( 'click', raycast, false );\r\n      if (!frameId) {\r\n        frameId = requestAnimationFrame(animate)\r\n      }\r\n    }\r\n\r\n    const stop = () => {\r\n      cancelAnimationFrame(frameId)\r\n      frameId = null\r\n    }\r\n\r\n    mount.current.appendChild(renderer.domElement)\r\n    window.addEventListener('resize', handleResize)\r\n    start()\r\n\r\n    // controls.current = { start, stop }\r\n    \r\n    return () => {\r\n      stop()\r\n      window.removeEventListener('resize', handleResize)\r\n      mount.current.removeChild(renderer.domElement)\r\n\r\n      // scene.remove(cube)\r\n      // geometry.dispose()\r\n      // material.dispose()\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (isAnimating) {\r\n      // controls.current.start()\r\n    } else {\r\n      // controls.current.stop()\r\n    }\r\n  }, [isAnimating])\r\n  \r\n  return <div className=\"vis h-100\" ref={mount} onClick={() => setAnimating(!isAnimating)} />\r\n}\r\n\r\n  return (\r\n    <Layout>\r\n      <Seo title=\"Home\" />\r\n\r\n      <FullScreenSection>\r\n\r\n        <BackgroundImage\r\n          Tag=\"section\"\r\n          className={'container-fluid fullheight-ribbon d-flex flex-column'}\r\n          fluid={bg1}\r\n          backgroundColor={`#040e18`}\r\n        >\r\n\r\n            <div className={`row flex-1`}>\r\n              <div className={`col flex-1`}>\r\n\r\n\r\n              <Vis />\r\n\r\n              </div>         \r\n            </div>\r\n            <div className={`row ribbon no-gutters`}>\r\n\r\n            \t<div className={`col-3 ribbon-blue`}></div>\r\n            \t<div className={`col-2 ribbon-red`}></div>\r\n            \t<div className={`col-4 ribbon-navy`}></div>\r\n            \t<div className={`col-3 ribbon-gray`}></div>\r\n\r\n            </div>\r\n\r\n        </BackgroundImage>\r\n\r\n      </FullScreenSection>   \r\n\r\n    </Layout>\r\n  )\r\n\r\n}\r\n\r\nconst StyledBackgroundSection = styled(ThreePage)`\r\n  width: 100%;\r\n  background-position: bottom center;\r\n  background-repeat: repeat-y;\r\n  background-size: cover;\r\n`\r\n\r\nexport default ThreePage\r\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["$","$hypot","Math","hypot","abs","sqrt","target","stat","forced","Infinity","NaN","value1","value2","arg","div","sum","i","aLen","arguments","length","larg","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_construct","Parent","args","Class","a","push","apply","instance","Function","bind","setPrototypeOf","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","F","s","done","value","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","_createSuper","Derived","hasNativeReflectConstruct","result","Super","NewTarget","this","GLTFLoader","_Loader","_super","manager","_this","dracoLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","register","parser","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMaterialsSheenExtension","GLTFMaterialsTransmissionExtension","GLTFMaterialsVolumeExtension","GLTFMaterialsIorExtension","GLTFMaterialsSpecularExtension","GLTFLightsExtension","GLTFMeshoptCompression","key","url","onLoad","onProgress","onError","resourcePath","scope","path","itemStart","_onError","console","error","itemError","itemEnd","loader","setPath","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","load","data","parse","gltf","Error","callback","indexOf","splice","content","extensions","plugins","Uint8Array","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","json","JSON","undefined","asset","version","GLTFParser","crossOrigin","fileLoader","plugin","extensionsUsed","_i","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","warn","setExtensions","setPlugins","Promise","resolve","reject","GLTFRegistry","objects","get","add","object","remove","removeAll","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_IOR","KHR_MATERIALS_SHEEN","KHR_MATERIALS_SPECULAR","KHR_MATERIALS_TRANSMISSION","KHR_MATERIALS_VOLUME","KHR_TEXTURE_BASISU","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","cache","refs","uses","nodeDefs","nodes","nodeIndex","nodeLength","nodeDef","light","_addNodeRef","lightIndex","cacheKey","dependency","lightNode","lightDef","lights","color","fromArray","range","type","position","set","distance","spot","innerConeAngle","outerConeAngle","PI","angle","penumbra","decay","intensity","createUniqueName","self","_loadLight","then","_getNodeRef","materialParams","materialDef","pending","opacity","metallicRoughness","pbrMetallicRoughness","baseColorFactor","array","baseColorTexture","assignTexture","all","materialIndex","materials","extension","clearcoatFactor","clearcoat","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughness","clearcoatRoughnessTexture","clearcoatNormalTexture","scale","clearcoatNormalScale","sheenColor","sheenRoughness","sheen","sheenColorFactor","sheenRoughnessFactor","sheenColorTexture","sheenRoughnessTexture","transmissionFactor","transmission","transmissionTexture","thickness","thicknessFactor","thicknessTexture","attenuationDistance","colorArray","attenuationColor","ior","specularIntensity","specularFactor","specularTexture","specularColorFactor","specularColor","specularColorTexture","texture","encoding","textureIndex","textureDef","textures","source","images","options","loadTextureImage","isSupported","textureLoader","uri","handler","getHandler","detectSupport","loadTexture","image","Image","src","onload","onerror","height","index","bufferView","bufferViews","extensionDef","buffer","getDependency","decoder","supported","ready","res","byteOffset","byteLength","count","stride","byteStride","ArrayBuffer","decodeGltfBuffer","mode","filter","BINARY_EXTENSION_CHUNK_TYPES","body","headerView","DataView","header","magic","getUint32","chunkContentsLength","chunkView","chunkIndex","chunkLength","chunkType","contentArray","preload","primitive","bufferViewIndex","gltfAttributeMap","attributes","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","toLowerCase","_attributeName","_threeAttributeName","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","normalized","decodeDracoFile","geometry","_attributeName2","attribute","transform","texCoord","offset","rotation","clone","repeat","needsUpdate","GLTFMeshStandardSGMaterial","_MeshStandardMaterial","_super2","params","_this2","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","join","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","uniforms","specular","setHex","glossiness","specularMap","glossinessMap","_extraUniforms","onBeforeCompile","shader","uniformName","fragmentShader","replace","defineProperties","v","defines","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","metalness","roughness","metalnessMap","roughnessMap","setValues","copy","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","emissive","glossinessFactor","specularGlossinessTexture","specGlossMapDef","material","fog","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","alphaMap","envMap","envMapIntensity","refractionRatio","GLTFCubicSplineInterpolant","_Interpolant","_super3","parameterPositions","sampleValues","sampleSize","resultBuffer","values","valueSize","beforeStart_","copySampleValue_","afterEnd_","interpolate_","i1","t0","t","t1","stride2","stride3","td","p","pp","ppp","offset1","offset0","s2","s3","s0","s1","p0","m0","p1","m1","_q","GLTFCubicSplineQuaternionInterpolant","_GLTFCubicSplineInter","_super4","normalize","toArray","WEBGL_CONSTANTS","Int8Array","Int16Array","Uint16Array","Uint32Array","Float32Array","WEBGL_FILTERS","WEBGL_WRAPPINGS","WEBGL_TYPE_SIZES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","weights","INTERPOLATION","CUBICSPLINE","LINEAR","STEP","ALPHA_MODES","addUnknownExtensionsToUserData","knownExtensions","objectDef","userData","gltfExtensions","assignExtrasToUserData","gltfDef","extras","assign","updateMorphTargets","mesh","meshDef","il","morphTargetInfluences","targetNames","morphTargetDictionary","_i3","_il2","createAttributesKey","attributesKey","keys","sort","getNormalizedComponentScale","associations","Map","primitiveCache","meshCache","cameraCache","lightCache","textureCache","nodeNamesUsed","createImageBitmap","navigator","userAgent","setCrossOrigin","_invokeAll","ext","_markDefs","beforeRoot","getDependencies","dependencies","scene","scenes","animations","cameras","afterRoot","catch","skinDefs","skins","meshDefs","meshes","skinIndex","skinLength","joints","isBone","skin","isSkinnedMesh","camera","_this3","ref","updateMappings","original","mappings","_step","_iterator","children","entries","_step$value","func","unshift","loadScene","loadNode","_invokeOne","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","buffers","bufferViewDef","accessorIndex","sparse","pendingBufferViews","indices","bufferAttribute","itemSize","TypedArray","elementBytes","BYTES_PER_ELEMENT","itemBytes","ibSlice","floor","ibCacheKey","ib","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setX","setY","setZ","setW","sampler","URL","webkitURL","sourceURI","isObjectURL","blob","Blob","mimeType","createObjectURL","promise","isImageBitmapLoader","imageBitmap","revokeObjectURL","flipY","samplers","magFilter","minFilter","wrapS","wrapT","mapName","mapDef","gltfReference","extendTexture","useDerivativeTangents","tangent","useVertexColors","useFlatShading","normal","isPoints","uuid","pointsMaterial","sizeAttenuation","isLine","_cacheKey","lineMaterial","_cacheKey2","cachedMaterial","vertexColors","flatShading","y","uv2","uv","setAttribute","materialType","materialExtensions","sgExtension","getMaterialType","extendParams","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","extendMaterialParams","doubleSided","side","alphaMode","transparent","depthWrite","alphaTest","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","createMaterial","originalName","sanitizedName","primitives","createDracoPrimitive","decodePrimitive","addPrimitiveAttributes","primitiveDef","dracoExtension","cached","geometryPromise","meshIndex","depthTest","loadGeometries","results","geometries","_i4","_il3","_material","skinWeight","normalizeSkinWeights","toTrianglesDrawMode","morphAttributes","assignFinalMaterial","_i5","_il4","group","_i6","_il5","cameraIndex","cameraDef","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","accessor","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","channel","node","id","input","parameters","output","inputAccessors","outputAccessors","targets","tracks","_loop","_i7","_il6","inputAccessor","outputAccessor","updateMatrix","matrixAutoUpdate","TypedKeyframeTrack","targetName","interpolation","traverse","outputArray","scaled","j","jl","_j","_jl","track","createInterpolant","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","isMesh","meshPromise","nodeName","createNodeMesh","createNodeAttachment","forEach","matrix","applyMatrix4","quaternion","has","sceneIndex","sceneDef","nodeIds","buildNodeHierarchy","_step2","reducedAssociations","_iterator2","_step2$value","reduceAssociations","nodeId","parentObject","pendingJoints","jointNodes","bones","boneInverses","jointNode","mat","matrixWorld","child","assignAttributeAccessor","gltfAttributeName","setIndex","box","min","max","boxScale","multiplyScalar","maxDisplacement","vector","_accessor","_min","_max","_boxScale","expandByVector","boundingBox","sphere","getCenter","center","radius","distanceTo","boundingSphere","computeBounds","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","_i2","_il","_target","pendingAccessor","_pendingAccessor","morphPositions","morphNormals","morphTargetsRelative","addMorphTargets","drawMode","getIndex","getAttribute","numberOfTriangles","newIndices","_i8","getX","_i9","newGeometry","_changeEvent","_startEvent","_endEvent","OrbitControls","_EventDispatcher","domElement","quat","quatInverse","lastPosition","lastQuaternion","twoPI","document","style","touchAction","enabled","minDistance","maxDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MIDDLE","touches","ONE","TWO","target0","position0","zoom0","zoom","_domElementKeyEvents","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","getDistance","listenToKeyEvents","addEventListener","onKeyDown","saveState","reset","updateProjectionMatrix","dispatchEvent","update","state","STATE","NONE","setFromUnitVectors","up","invert","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","isFinite","makeSafe","addScaledVector","panOffset","setFromSpherical","lookAt","zoomChanged","distanceToSquared","EPS","dot","dispose","removeEventListener","onContextMenu","onPointerDown","onPointerCancel","onMouseWheel","onPointerMove","onPointerUp","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","pow","rotateUp","panLeft","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","tan","fov","clientHeight","isOrthographicCamera","right","left","clientWidth","top","bottom","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","event","clientX","clientY","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","x","handleTouchStartPan","handleTouchStartDolly","dx","dy","handleTouchMoveRotate","getSecondPointerPosition","subVectors","handleTouchMovePan","handleTouchMoveDolly","setPointerCapture","pointerId","addPointer","pointerType","trackPointer","onTouchStart","mouseAction","button","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","onMouseDown","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","onTouchMove","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","removePointer","releasePointerCapture","preventDefault","handleMouseWheel","code","handleKeyDown","pointer","passive","Easing","Linear","None","amount","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","cos","sin","Exponential","Circular","Elastic","Back","Bounce","now$1","process","hrtime","time","performance","now","Date","getTime","Group","_tweens","_tweensAddedDuringUpdate","getAll","tweenId","tween","getId","preserve","tweenIds","autoStart","Interpolation","k","m","fn","Utils","Bezier","b","pw","bn","Bernstein","CatmullRom","fc","Factorial","p2","p3","v0","v1","t2","Sequence","nextId","_nextId","mainGroup","Tween","_object","_group","_isPaused","_pauseStart","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_initialRepeat","_repeat","_yoyo","_isPlaying","_reversed","_delayTime","_startTime","_easingFunction","_interpolationFunction","_chainedTweens","_onStartCallbackFired","_id","_isChainStopped","_goToEnd","isPlaying","isPaused","to","properties","duration","create","d","start","property","_swapEndStartRepeatValues","parseFloat","_setupProperties","startValue","startValueIsArray","propType","isInterpolationList","endValues","_handleRelativeValue","concat","reverse","prop","stop","stopChainedTweens","_onStopCallback","end","pause","resume","numChainedTweens","delay","repeatDelay","_repeatDelayTime","yoyo","easing","easingFunction","interpolationFunction","chain","tweens","onStart","_onStartCallback","onUpdate","_onUpdateCallback","onRepeat","_onRepeatCallback","onComplete","_onCompleteCallback","onStop","elapsed","endTime","_updateProperties","startIsArray","endIsArray","charAt","tmp","endValue","TWEEN","ThreePage","useStaticQuery","bg1","childImageSharp","fluid","Vis","bg2","useRef","React","useEffect","useState","mount","isAnimating","setAnimating","frameId","width","window","innerWidth","innerHeight","THREE","renderer","antialias","raycaster","z","controls","xhr","log","dir","plane","setClearColor","setSize","raycast","setFromCamera","intersects","intersectObjects","persp3","getObjectByName","persp1","cameraToMarker","marker","currentCamPosition","storedMarkerPosition","newCameraTarget","getNewPointOnVector","markerPosition","startRotation","endRotation","acos","atan2","vl","renderScene","render","handleResize","current","aspect","animate","requestAnimationFrame","appendChild","cancelAnimationFrame","removeChild","className","onClick","title","Tag","backgroundColor","styled","_assertThisInitialized","ReferenceError","asyncGeneratorStep","gen","_next","_throw","info","_asyncToGenerator","_classCallCheck","Constructor","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_defineProperty","obj","_superPropBase","hasOwnProperty","getPrototypeOf","_get","receiver","base","desc","getOwnPropertyDescriptor","_getPrototypeOf","__proto__","_inherits","subClass","superClass","_typeof","_possibleConstructorReturn","assertThisInitialized","_slicedToArray","_s","_arr","_n","_d","unsupportedIterableToArray"],"sourceRoot":""}